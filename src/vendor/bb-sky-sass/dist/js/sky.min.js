!function(){"use strict";angular.module("sky.actionbar",["sky.resources"]).directive("bbActionBar",[function(){return{transclude:!0,restrict:"E",template:'<div class="bb-action-bar"><ng-transclude/></div>'}}]).directive("bbActionBarItemGroup",["bbResources",function(a){return{replace:!0,transclude:!0,restrict:"E",scope:{title:"=?bbActionBarItemGroupTitle"},controller:["$scope","$element",function(a,b){function c(a){var c=b.find("ul");c.append(a.transcludeEl)}function d(b){var c;for(c=0;c<a.items.length;c++)if(a.items[c].id===b)return c;return-1}function e(a){a.transcludeEl.detach()}function f(){var f,g,h,i,j=b.find("button.bb-action-bar-item-button");for(g=0;g<a.items.length;g++)e(a.items[g]);for(g=0;g<j.length;g++)f=j.eq(g).isolateScope(),angular.isDefined(f)&&(i=f.itemId,h=d(i),-1!==h&&c(a.items[h]))}a.items=[],this.addItem=function(b,c,d){var e=angular.element('<li id="'+d+'" role="presentation"><a role="menuitem" href="javascript:void(0)"></a></li>');c(function(c,g){var h=e.find("a");h.append(c),h.on("click",b),a.items.push({id:d,transScope:g,transcludeEl:e}),f()})},this.destroyItem=function(b){var c;c=d(b),-1!==c&&a.items[c]&&a.items[c].transcludeEl&&a.items[c].transcludeEl.remove(),a.items.splice(c,1)}}],link:function(b){(null===b.title||angular.isUndefined(b.title))&&(b.title=a.action_bar_actions)},templateUrl:"sky/templates/actionbar/actionbaritemgroup.html"}}]).directive("bbActionBarItem",[function(){return{replace:!0,transclude:!0,restrict:"E",require:"?^^bbActionBarItemGroup",scope:{actionCallback:"&ngClick"},link:function(a,b,c,d,e){a.itemId="bb-action-bar-item-"+a.$id,null!==d&&angular.isDefined(d)&&(d.addItem(a.actionCallback,e,a.itemId),a.$on("$destroy",function(){d.destroyItem(a.itemId)}))},template:'<button class="btn btn-white bb-action-bar-item-button" type="button"><ng-transclude/></button>'}}])}(),function(){"use strict";angular.module("sky.autofocus",[]).directive("bbAutofocus",["$timeout",function(a){return{restrict:"A",link:function(b,c){a(function(){c.focus()},100)}}}])}(),function(a){"use strict";function b(b,c){var d,e;return d=angular.extend({},a.fn.autoNumeric.defaults,b.number),c&&(e=b[c]),e&&angular.extend(d,e),d}angular.module("sky.autonumeric",["sky.resources"]).constant("bbAutonumericConfig",{number:{aSep:",",dGroup:3,aDec:".",pSign:"p",mDec:2},money:{aSign:"$"}}).directive("bbAutonumeric",["$timeout","bbAutonumericConfig",function(a,c){return{require:"ngModel",restrict:"A",link:function(d,e,f,g){function h(){e.autoNumeric("update",angular.extend({},b(c,f.bbAutonumeric),j))}function i(a){f.bbAutonumeric&&a.addClass("bb-autonumeric-"+f.bbAutonumeric)}var j={};f.bbAutonumericSettings&&d.$watch(f.bbAutonumericSettings,function(a){j=a||{},h()},!0),e.autoNumeric(b(c,f.bbAutonumeric)),i(e),d.$watch(f.ngModel,function(a){void 0!==a&&null!==a?e.autoNumeric("set",a):e.val(null)}),e.change(function(){return d.$apply(function(){var a=parseFloat(e.autoNumeric("get"));return isNaN(a)&&(a=null),g.$setViewValue(a)})}),e.on("focusin.bbAutonumeric",function(){a(function(){e.select()})})}}}]).filter("bbAutonumeric",["bbAutonumericConfig","bbResources",function(c,d){return function(e,f,g){var h,i,j,k,l,m,n;return null===e||angular.isUndefined(e)?"":(n=a("<span></span>"),l=b(c,f),g&&("s"===l.pSign&&(h=l.aSign,l.aSign=""),e=Math.round(e),e>=1e9?(i=1e8,m=d.autonumeric_abbr_billions):e>=1e6?(i=1e5,m=d.autonumeric_abbr_millions):e>=1e4&&(i=100,m=d.autonumeric_abbr_thousands),m?(e=Math.floor(e/i)/10,j=Math.floor(e)===e?0:1):j=0,l.mDec=j),n.autoNumeric(l),n.autoNumeric("set",e),k=n.text(),m&&(k+=m),g&&"s"===l.pSign&&h&&(k+=h),k)}}])}(jQuery),function(a){"use strict";angular.module("sky.charts",["sky.resources","sky.moment","sky.format"]).directive("bbChartScatterplot",["$timeout","$window","bbFormat","bbMoment","bbResources",function(b,c,d,e,f){return{restrict:"EA",transclude:!0,templateUrl:"sky/templates/charts/scatterplot.html",scope:{bbChartDataset:"=",bbChartOptions:"="},controller:["$scope",function(a){this.enablePopup=function(b){angular.isFunction(b)&&(a.popupCallback=b,a.enableClick=!0)}}],link:function(g,h,i,j,k){function l(a,b){return parseInt(a.css(b),10)}function m(){return H?l(H,"top"):void 0}function n(){return I?l(I,"left")+l(I,"width"):void 0}function o(){var b,c;c=i.width||"100%",b=i.height||"100%",G=h.children(".bb-chart-container"),L=a(G.children(".bb-chart")),L.css({width:c,height:b})}function p(a,b){J.xaxis.min=a,J.xaxis.max=b}function q(a,b,c,d,e){var f=J.xaxis.panRange;e&&angular.isFunction(e)&&(a>f[0]&&J.xaxis.min<c&&e("back"),b<f[1]&&J.xaxis.max>d&&e("forward"))}function r(a,b){var c,d,f,h,i,j,k;b&&(j=b.getAxes().xaxis,k=g.bbChartOptions.panWindow.xAxis,p(j.min,j.max),c=k.loadedMin(),d=k.loadedMax(),f=k.loadThreshold,h=e(c).add(f,"month"),i=e(d).add(-f,"month"),q(c,d,h,i,k.loadMoreCallback))}function s(a){var b,c=K.getAxes().xaxis,d=g.bbChartOptions.panWindow.xAxis,f=d.numToMove;"back"===a&&(f=-f),b=e(c.min).add(f,"month").valueOf(),K.pan({left:c.p2c(b)})}function t(a){var b,c=[f.month_short_january,f.month_short_february,f.month_short_march,f.month_short_april,f.month_short_may,f.month_short_june,f.month_short_july,f.month_short_august,f.month_short_september,f.month_short_october,f.month_short_november,f.month_short_december];return b={grid:{backgroundColor:{colors:["#fff","rgb(250, 250, 250)"]},borderColor:"#ccc",borderWidth:{top:0,right:0,bottom:1,left:1},clickable:g&&(g.enableClick||g.bbChartOptions&&g.bbChartOptions.clickCallback),hoverable:g&&(g.enableHover||g.bbChartOptions&&(g.bbChartOptions.hoverCallback||g.bbChartOptions.clickCallback))},series:{points:{fill:1,fillColor:null,show:!0}},moveBack:function(){s("back")},moveForward:function(){s("forward")},pan:{cursor:"-webkit-grab",interactive:!0},plotPanCallback:r,xaxis:{mode:"time",panRange:[null,null],show:!0,tickFormatter:function(b){var f=e.utc(b),g=f.month(),h=c[g];return 0===g?d.escape(h)+"<br />"+d.escape(f.year()):a&&12>a&&a>0&&g%a===0?d.escape(h)+"<br />"+d.escape(f.year()):h},tickLength:0,tickSize:[1,"month"]},yaxis:{min:0,panRange:!1,show:!0,tickLength:0,tickSize:1}}}function u(){var a,b=g.bbChartOptions;if(b&&b.mode)switch(b.mode){case"FixedSeriesMonthTimeline":a=t(b.numMonthsShown)}return a||{}}function v(){var a;g.bbChartOptions&&g.bbChartOptions.panWindow&&(L.addClass("bb-chart-pan"),a=g.bbChartOptions.panWindow.xAxis,a.initialWindow&&p(a.initialWindow.min,a.initialWindow.max))}function w(a){var b,c,d,e;d="move"+a,b=d+"Disabled",e=d+"Visible",g.bbChartOptions&&(c=g.bbChartOptions[d],g[e]=!0,c?(angular.isFunction(c)&&(g[b]=function(){return!1},g[d]=c),angular.isFunction(g.bbChartOptions[b])&&(g[b]=g.bbChartOptions[b])):J[d]?g[d]=J[d]:g[e]=!1)}function x(){J=u(),g.bbChartOptions&&(angular.extend(J.xaxis,g.bbChartOptions.xaxis),angular.extend(J.yaxis,g.bbChartOptions.yaxis)),w("Forward"),w("Back"),v()}function y(){H=h.find(".flot-text .xAxis .tickLabel:first"),I=h.find(".flot-text .yAxis .tickLabel:first")}function z(){angular.isFunction(g.popupCallback)&&L.on("plotclick",function(a,b,c){g.popupCallback(a,b,c)})}function A(){J&&angular.isFunction(J.plotPanCallback)&&L.on("plotpan",function(a,b){J.plotPanCallback(a,b)})}function B(b){function c(a,c){var d,e=a+"Callback",f="plot"+a;b.off(f),g.bbChartOptions&&(d=g.bbChartOptions[e],d&&angular.isFunction(d)&&c(f,d))}function d(a,c){b.on(a,function(a,b,d){c(a,b,d)})}function e(a,c){b.on(a,function(a,b){c(a,b)})}K=a.plot(b,g.bbChartDataset||[],J),c("click",d),c("hover",d),c("pan",e),z(),A(),y(),M&&N&&h.removeClass("bb-chart-rendering")}function C(){function a(){var d=L[0].clientHeight,e=L[0].clientWidth;return d&&0!==d||e&&0!==e?void B(L):void(100>=c&&(c+=1,a.timeoutPromise=b(a,20)))}var c;a.timeoutPromise&&b.cancel(a.timeoutPromise),c=0,a()}function D(){M=!0,C()}function E(){g&&g.bbChartOptions&&(N=!0,x(),C())}function F(){K.pan({})}var G,H,I,J,K,L,M=!1,N=!1,O=a(c);g.moveBackStyle=function(){return{left:n()-15,position:"absolute",top:m(),"z-index":2}},g.moveForwardStyle=function(){return{right:-10,position:"absolute",top:m(),"z-index":2}},h.addClass("bb-chart-rendering"),g.$on("tileRepaint",function(){C()}),o(),k(function(a){h.append(a)}),O.on("orientationchange",F),g.$on("$destroy",function(){O.off("orientationchange",F)}),g.$watchCollection("bbChartDataset",D,!0),g.$watch("bbChartOptions",E,!0),g.$watch("popupCallback",z,!0)}}}]).directive("bbChartPopup",["$timeout","$window","bbMediaBreakpoints",function(b,c,d){return{scope:{bbPopupToggle:"=?",bbPopupOffset:"=?"},restrict:"EA",require:"^bbChartScatterplot",link:function(e,f,g,h){function i(a){o&&(o(),o=null),o=e.$watch("popup_open",function(b){if(b)if(d.getCurrent().xs)f.removeClass("bb-chart-popup"),f.addClass("bb-chart-popup-mobile");else{var e=f.outerWidth(),g=f.outerHeight(),h=a.pageX-e/2,i=a.pageY-g-p;f.removeClass("bb-chart-popup-mobile"),f.addClass("bb-chart-popup"),h+e>q.width()&&(h=q.width()-e),0>h&&(h=0),i-c.pageYOffset<0&&(i=c.pageYOffset),f.offset({left:h,top:i})}})}function j(){e.popup_open=!1,f.addClass("ng-hide")}function k(){e.popup_open=!0,f.removeClass("ng-hide")}function l(a,b,c){if(c){if(e.lastItem&&angular.equals(c,e.lastItem))return;e.lastItem=c,i(c)}}function m(a){if(e.lastItem){var b=a.clientX,c=a.clientY,f=e.lastItem.pageX,g=e.lastItem.pageY;if(Math.abs(b-f)<10&&Math.abs(c-g)<10)return}q.off("click",m),d.getCurrent().xs&&q.off("scroll",n),e.bbPopupToggle=!1,e.$apply()}var n,o,p=30,q=a(c);n=function(){q.off("click",m),q.off("scroll",n),e.bbPopupToggle=!1,e.$apply()},e.$on("$destroy",function(){q.off("click",m),q.off("scroll",n)}),e.bbPopupOffset&&(p=e.bbPopupOffset),angular.isDefined(e.bbPopupToggle)&&e.$watch("bbPopupToggle",function(a){a&&!e.popup_open?b(function(){q.on("click",m),d.getCurrent().xs&&q.on("scroll",n),k()}):!a&&e.popup_open&&b(j)}),f.addClass("bb-chart-popup"),j(),h.enablePopup(l)}}}])}(jQuery),function(a){"use strict";angular.module("sky.check",[]).directive("bbCheck",["$timeout",function(b){return{require:"ngModel",link:function(c,d,e,f){return b(function(){var b;return b=e.value,c.$watch(e.ngModel,function(){a(d).iCheck("update")}),a(d).iCheck({checkboxClass:"bb-check-checkbox",radioClass:"bb-check-radio"}).on("ifChanged",function(g){return"checkbox"===a(d).attr("type")&&e.ngModel&&c.$apply(function(){return f.$setViewValue(g.target.checked)}),"radio"===a(d).attr("type")&&e.ngModel?c.$apply(function(){return f.$setViewValue(b)}):void 0})})}}}])}(jQuery),function(){"use strict";function a(a){return{replace:!0,restrict:"E",transclude:!0,templateUrl:"sky/templates/checklist/checklist.html",scope:{bbChecklistItems:"=",bbChecklistSelectedItems:"=",bbChecklistFilterCallback:"=",bbChecklistIncludeSearch:"=",bbChecklistSearchDebounce:"=",bbChecklistSearchPlaceholder:"@",bbChecklistNoItemsMessage:"@",bbChecklistAutomationField:"=",bbChecklistCategories:"=",bbChecklistMode:"@"},controller:["$scope",function(a){var b=a.locals={};this.setColumns=function(a){b.columns=a}}],link:function(c,d,e){function f(a,b){return!b||a.category===b}function g(a,c,d){var e,g;if(f(a,c)){if(!d)return!0;for(e in a)if(a.hasOwnProperty(e)&&e!==b&&(g=a[e],angular.isString(g)&&g.toUpperCase().indexOf(d)>=0))return!0}return!1}function h(){var a,b,d,e,f=c.bbChecklistItems,h=(k.searchText||"").toUpperCase(),i=k.selectedCategory;if(h||i)for(a=[],b=0,e=f.length;e>b;b++)d=f[b],g(d,i,h)&&a.push(d);else a=f.slice(0);k.filteredItems=a}function i(){j?h():c.bbChecklistFilterCallback&&c.bbChecklistFilterCallback({searchText:k.searchText,category:k.selectedCategory})}var j=angular.isDefined(e.bbChecklistFilterLocal),k=c.locals;c.bbChecklistSelectedItems=c.bbChecklistSelectedItems||[],k.selectAll=function(){var b,d,e=k.filteredItems,f=c.bbChecklistSelectedItems;for(b=0;b<e.length;b+=1)d=e[b],a.contains(f,d)||a.add(f,d)},k.clear=function(){var b,d,e=k.filteredItems,f=c.bbChecklistSelectedItems;for(b=0;b<e.length;b+=1)d=e[b],a.remove(f,d)},k.rowClicked=function(b){var d=c.bbChecklistSelectedItems;a.contains(d,b)?a.remove(d,b):a.add(d,b)},k.filterByCategory=function(a){k.selectedCategory=a,i()},c.$watch("bbChecklistItems",function(){k.filteredItems=c.bbChecklistItems,k.highlightRefresh=(new Date).getTime()}),c.$watch("locals.searchText",function(a,b){a!==b&&i()})}}}var b="category";a.$inject=["bbChecklistUtility"],angular.module("sky.checklist",["sky.check","sky.checklist.column","sky.checklist.columns","sky.checklist.model","sky.checklist.utility","sky.resources"]).directive("bbChecklist",a)}(),function(){"use strict";function a(){return{require:"^bbChecklistColumns",restrict:"E",scope:{bbChecklistColumnCaption:"=",bbChecklistColumnField:"=",bbChecklistColumnClass:"=",bbChecklistColumnWidth:"=",bbChecklistColumnAutomationId:"="},link:function(a,b,c,d){var e={caption:a.bbChecklistColumnCaption,field:a.bbChecklistColumnField,"class":a.bbChecklistColumnClass,width:a.bbChecklistColumnWidth,automationId:a.bbChecklistColumnAutomationId};d.addColumn(e)}}}angular.module("sky.checklist.column",["sky.checklist.columns"]).directive("bbChecklistColumn",a)}(),function(){"use strict";function a(){return{require:"^bbChecklist",restrict:"E",scope:{},controller:["$scope",function(a){a.columns=[],this.addColumn=function(b){a.columns.push(b)}}],link:function(a,b,c,d){d.setColumns(a.columns)}}}angular.module("sky.checklist.columns",[]).directive("bbChecklistColumns",a)}(),function(){"use strict";function a(a,b,c){function d(d,e,f){var g,h,i;a(e)(d),g=b(f.checklistModel),h=g.assign,i=b(f.checklistValue)(d.$parent),d.$watch("checked",function(a,b){var e;a!==b&&(e=g(d.$parent),a===!0?h(d.$parent,c.add(e,i)):h(d.$parent,c.remove(e,i)))}),d.$parent.$watch(f.checklistModel,function(a){d.checked=c.contains(a,i)},!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(a,b){if("INPUT"!==a[0].tagName||!a.attr("type","checkbox"))throw'checklist-model should be applied to `input[type="checkbox"]`.';if(!b.checklistValue)throw"You should provide `checklist-value`.";return a.removeAttr("checklist-model"),a.attr("ng-model","checked"),d}}}a.$inject=["$compile","$parse","bbChecklistUtility"],angular.module("sky.checklist.model",["sky.checklist.utility"]).directive("checklistModel",a)}(),function(){"use strict";angular.module("sky.checklist.utility",[]).factory("bbChecklistUtility",function(){return{contains:function(a,b){var c;if(angular.isArray(a))for(c=0;c<a.length;c+=1)if(angular.equals(a[c],b))return!0;return!1},add:function(a,b){var c;for(a=angular.isArray(a)?a:[],c=0;c<a.length;c+=1)if(angular.equals(a[c],b))return a;return a.push(b),a},remove:function(a,b){var c;if(angular.isArray(a))for(c=0;c<a.length;c+=1)if(angular.equals(a[c],b)){a.splice(c,1);break}return a}}})}(),function(a,b){"use strict";function c(a,b,c){var d,f,g;if(a){(angular.isString(a)||a.BB_DATA_POST)&&(g=a,a={},a[e]=g);for(f in a)a.hasOwnProperty(f)&&(d=a[f],g=d,b.push(f),c.push(g))}}function d(a){function b(){a.waitForFirstItem=!1,a.nonblockWaitForAdditionalItems=!1,j&&(j=!1,h.$emit("bbEndWait",{nonblocking:!0})),k&&(k=!1,h.$emit("bbEndWait"))}function c(){j=!0,h.$emit("bbBeginWait",{nonblocking:!0})}function d(b){var d=i.indexOf(b);-1!==d&&(i.splice(d,1),0===i.length&&(g.isLoading=!1,j&&(j=!1,h.$emit("bbEndWait",{nonblocking:!0})))),g.isFirstItemLoaded||(g.isFirstItemLoaded=!0,k&&(k=!1,h.$emit("bbEndWait"))),g.isLoading&&a.nonblockWaitForAdditionalItems&&!j&&c()}function e(b){g.isLoading||g.isFirstItemLoaded&&a.nonblockWaitForAdditionalItems&&c(),i.push(b),g.isLoading=!0}var f,g,h,i=[],j=!1,k=!1;return h=a.scope,a.load&&(f={name:a.name,load:a.load}),g={isFirstItemLoaded:!1,isLoading:!1,loadingItems:i,cancelWaiting:b},a.waitForFirstItem&&(k=!0,h.$emit("bbBeginWait")),f&&(e(f),g.loaded=f.load()["finally"](function(){d(f),h.$parent.$emit("bbData.loadManager.markCompleted",f)}),h.$parent.$emit("bbData.loadManager.registerItem",f)),a.isAggregate&&(h.$on("bbData.loadManager.registerItem",function(a,b){a.stopPropagation(),e(b)}),h.$on("bbData.loadManager.markCompleted",function(a,b){a.stopPropagation(),d(b)})),g}var e="__DEFAULT__",f=0,g=1,h=2;angular.module("sky.data",[]).constant("bbDataConfig",{}).factory("bbData",["$http","$q","$templateCache","bbDataConfig",function(i,j,k,l){function m(b,c){var d,e;switch(c=c||0,a.define&&a.define.amd&&a.require&&(e=b.split("?"),b=e.shift(),b=require.toUrl(b),b+="?"+e.join("")),c){case f:d=l.dataUrlFilter;break;case g:d=l.resourceUrlFilter;break;case h:d=l.textUrlFilter}return angular.isFunction(d)&&(b=d(b)),b}function n(b,c,d){var e,f,g,l,n,o;return d=d||0,b.BB_DATA_POST||c?(e=b.data,n=b.type||"post",o=b.url):(n="get",o=b,g=!0),g&&d===h&&(l=k.get(o))?j(function(a){a({data:l})}):(o=m(o,d),f={method:n,url:o,cache:0!==d,data:e?JSON.stringify(e):null,dataType:0!==d?"text":"json",withCredentials:0===d},e instanceof a.FormData&&angular.extend(f,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}),i(f))}function o(a,b,c){var d,e,f;if(b)for(d=0,e=b.length;e>d;d++)f=b[d],a.push(n(f,null,c))}function p(a){return j(function(b,d){function i(a){function c(b,c){var g,h,i,j,k;if(c)for(h=0,i=c.length;i>h;h++)j=c[h],g=a[d].data,j===e?k=g:(k=k||{},k[j]=g),d++;angular.isDefined(k)&&(f[b]=k)}var d=0,f={};c("data",m,!0),c("resources",q),c("text",t),b(f)}function k(){d.apply(this,arguments)}var l,m,n,p,q,r,s,t,u,v=[];l=a.data,p=a.resources,s=a.text,l&&(m=[],n=[],c(l,m,n)),p&&(q=[],r=[],c(p,q,r)),s&&(t=[],u=[],c(s,t,u)),o(v,n,f),o(v,r,g),o(v,u,h),j.all(v).then(i)["catch"](k)})}return{load:function(a){return a.loadManager?(a.loadManager.load=function(){return p(a)},d(a.loadManager).loaded):p(a)},loadManager:d,query:function(a,c){return a+"?"+b.param(c)},post:function(a,b){return{url:a,data:b,BB_DATA_POST:!0}},save:function(a){return n(a,!0)}}}])}(this,jQuery),function(){"use strict";angular.module("sky.datefield",["sky.resources","sky.moment"]).constant("bbDateFieldConfig",{currentCultureDateFormatString:"mm/dd/yyyy",dateFormat:"MM/dd/yyyy",showWeeks:!1,startingDay:0,twoDigitYearRolloverMax:29}).directive("bbDateField",["$q","$templateCache","bbMoment","bbDateFieldConfig","bbResources",function(a,b,c,d,e){function f(a){return a.match(/[.\/\-\s].*?/)}function g(a){return a.replace(/\u200E/g,"")}function h(a){var b=f(a),c=a.split(b),d=-1!==a.indexOf(b,a.length-1),e=0===a.indexOf(b),g=c.length-1===2,h=c.some(function(a){return 0===Number(a)});return b&&!d&&!e&&g&&!h}function i(a,b){return b||a?!/Invalid|NaN/.test(c(a,d.currentCultureDateFormatString.toUpperCase()))&&h(a):!0}function j(a,b){var e,h,i,j,k,l,m,n,o,p,q,r=b.toUpperCase(),s=0===r.indexOf("Y")?0:2;if(a){if(j=f(a),k=a.split(j),p=b.toLowerCase(),8===a.length&&!isNaN(a))return l=p.indexOf("y"),m=p.indexOf("m"),n=p.indexOf("d"),n>m&&l>n||m>n&&l>m?(k[0]=a.substring(0,2),k[1]=a.substring(2,4),k[2]=a.substring(4,8)):m>l&&n>m&&(k[0]=a.substring(0,4),k[1]=a.substring(4,6),k[2]=a.substring(6,8)),o=f(p),k.join(o);if(q=Number(k[s]),100>q)return k[s]=q<=d.twoDigitYearRolloverMax?q+2e3:q+1900,a=k.join(j);if("string"==typeof a&&-1!==a.indexOf("T00:00:00"))return e=a.split("T")[0],h=e.split("-"),i=new Date(h[0],h[1]-1,h[2]),g(c(i).format(r));if(3!==k.length||k.some(function(a){return 0===Number(a)}))return a;try{return g(c(a,r).format(r))}catch(t){return a}}return a}function k(a){var b,e,f,h=d.currentCultureDateFormatString.toUpperCase();return isNaN(a)?(f=a.match(/[.\/\-\s].*?/),e=a.split(f),3!==e.length||e.some(function(a){return 0===Number(a)})?a:(b=c(a,h),g(b.format(h)))):a}return{scope:{bbDateFieldOptions:"="},link:function(c,f,g,h){function l(a){a[p?"reject":"resolve"]()}function m(){h.$viewValue&&(f.datepicker("setValue",h.$viewValue),s.val(h.$viewValue))}function n(a,b){h.$setViewValue(a,b),m(a)}var o,p,q,r=c.bbDateFieldOptions&&!!c.bbDateFieldOptions.formatValue,s=f.find("input"),t=b.get("sky/templates/datefield/datefield.html");s=f.children("input"),s.on("change",function(){""===s.val()&&(p=null,h.invalidFormatMessage=null),n(s.val(),"change")}),h.$asyncValidators.dateFormat=function(){function b(a){var b;a=a||{},b=a.formattedValue,p=a.formattingErrorMessage,h.invalidFormatMessage=p,l(g),b!==o&&(q=!0,s.val(b),n(b))}var g,m,o,t;return g=a.defer(),q||h.$pristine?(h.invalidFormatMessage=null,l(g)):r?(o=s.val(),o&&(t=c.bbDateFieldOptions.formatValue(o),t.then?t.then(b):b(t))):(o=j(s.val(),d.currentCultureDateFormatString),angular.isDefined(o)?(m=k(o),"Invalid date"!==o&&"Invalid date"!==m&&i(m,h.required)?(p=null,q=!0,s.val(m),n(m)):(p=e.date_field_invalid_date_message,h.invalidFormatMessage=p,f.datepicker("setValue","")),l(g)):h.invalidFormatMessage=null),q=!1,g.promise},h.$render=function(){h.$viewValue=j(h.$viewValue,d.currentCultureDateFormatString),m(h.$viewValue)},o=k(new Date),f.attr("data-date-format",d.currentCultureDateFormatString).attr("data-date",o).append(t),r&&s.addClass("datefield-customformatting"),s.attr("placeholder",r?"":d.currentCultureDateFormatString.toLowerCase()),f.datepicker().on("changeDate",function(a){var b=null;p=null,q=!0,f.datepicker("set",a.date),b=f.data("date"),i(b,h.required),n(b),f.datepicker("hide")}),f.datepicker.Constructor.prototype.place=function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left-118})},f.datepicker.Constructor.prototype.remove=function(){this.hide(),this.picker.remove(),delete this.element.data().datepicker,delete this.element.data().date},s.attr("maxlength","10"),c.$on("$destroy",function(){f.datepicker("remove")})},replace:!0,require:"ngModel",restrict:"E",template:function(a,b){var c='<div class="date input-group"><input type="text"';return b.id&&(c+=' id="'+b.id+'"'),b.bbautoField&&(c+=' data-bbauto-field="'+b.bbautoField+'Input"'),c+='/ class="has-right-addon text-box single-line form-control"></div>'}}}])}(),function(a){"use strict";angular.module("sky.datepicker",["sky.resources","sky.moment"]).constant("bbDatepickerConfig",{currentCultureDateFormatString:"MM/dd/yyyy",showWeeks:!1,startingDay:0}).directive("bbDatepicker",["bbResources","bbDatepickerConfig","bbDatepickerParser","$timeout","$q","$filter",function(b,c,d,e,f,g){return{replace:!0,restrict:"E",require:"ngModel",scope:{date:"=ngModel",dateOptions:"=?bbDateOptions",customValidation:"=?bbCustomValidation",format:"=?bbDateFormat",placeholderText:"=?placeholder"},templateUrl:"sky/templates/datepicker/datepicker.html",controller:["$scope",function(a){var b=this;a.getInputNgModel=function(){return angular.isFunction(b.getInputNgModel)?b.getInputNgModel():null}}],link:function(h,i,j,k){function l(){return a("body > ul[datepicker-popup-wrap]")}function m(){var a,b,c,d=i.find("span.bb-datepicker-button-container"),e=i.find("input"),f=i.find("input").isolateScope(),g=l();a=e.innerWidth(),b=d.innerWidth(),c=g.innerWidth(),a+b>c&&(f.position.left=f.position.left+a+b-c)}function n(a){a.preventDefault(),a.stopPropagation(),t&&h.locals.appendToBody&&(l().addClass("bb-datefield"),t=!1),h.locals.appendToBody&&e(function(){m()}),h.locals.opened=!h.locals.opened}function o(){angular.isDate(h.date)?h.locals.date=g("date")(h.date,h.format):h.locals.hasCustomValidation?h.locals.date=h.date:(r=d.runParsers(h.date,h.format),angular.isDate(r)?(h.date=r,h.locals.date=g("date")(h.date,h.format)):h.locals.date=h.date)}function p(){var a=h.getInputNgModel();return a&&a.$error&&a.$error.required}function q(){function a(){var a=h.getInputNgModel();null!==a?(i[a.invalidFormatMessage?"reject":"resolve"](),a.$setValidity("dateFormat",!a.invalidFormatMessage||""===a.invalidFormatMessage)):i.resolve()}function c(a){var b=h.getInputNgModel();null!==b&&(b.invalidFormatMessage=a)}function d(b){b=b||{},c(b.formattingErrorMessage),a(),b.formattedValue!==h.date&&(u=!0,v=!0,h.date=b.formattedValue,h.locals.date=b.formattedValue)}function e(){var a=h.getInputNgModel();return null!==a?a.$pristine:!0}var g,i,j;if(i=f.defer(),u||angular.isDate(h.locals.date)||""===h.locals.date||h.locals.required&&p()||e())c(null),a();else if(h.locals.hasCustomValidation&&angular.isString(h.locals.date)){if(g=h.customValidation.formatValue(h.locals.date),!g.then)return d(g),i.promise;g.then(d)}else j=h.getInputNgModel(),null!==j&&j.$error&&j.$error.date&&c(b.date_field_invalid_date_message),a();return u=!1,i.promise}var r,s,t=!0,u=!1,v=!1;h.locals={showButtonBar:!1,appendToBody:!1,date:"",opened:!1,open:n,loaded:!1,closeOnSelection:!0,dateOptions:{showWeeks:c.showWeeks,startingDay:c.startingDay},hasCustomValidation:!1,inputName:j.bbDatepickerName},h.resources=b,angular.isDefined(j.showButtonBar)&&(h.locals.showButtonBar=j.showButtonBar),angular.isDefined(j.closeOnDateSelection)&&(h.locals.closeOnSelection=j.closeOnDateSelection),angular.isDefined(j.datepickerAppendToBody)&&(h.locals.appendToBody="true"===j.datepickerAppendToBody),angular.isUndefined(h.format)&&(h.format=c.currentCultureDateFormatString),angular.isDefined(h.dateOptions)&&angular.extend(h.locals.dateOptions,h.dateOptions),angular.isDefined(h.customValidation)&&angular.isFunction(h.customValidation.formatValue)&&(h.locals.hasCustomValidation=!0),h.locals.required=angular.isDefined(j.required),(null===h.placeholderText||angular.isUndefined(h.placeholderText))&&(h.placeholderText=h.format.toLowerCase()),o(),h.$watch("date",function(a,b){a===b||v?v&&(v=!1):o()}),h.$watch("locals.date",function(){var a;h.date!==h.locals.date&&angular.isDate(h.locals.date)&&(v=!0,h.date=h.locals.date),h.locals.hasCustomValidation&&(a=h.getInputNgModel(),null!==a&&e(function(){a.$error&&a.$error.date&&a.$setValidity("date",!0)}))}),k.$asyncValidators.dateFormat=q,h.locals.loaded=!0,e(function(){s=i.find("input"),s.on("change blur",function(){e(function(){var a;angular.isUndefined(h.locals.date)&&angular.isDefined(s.val())&&""!==s.val()?(v=!0,h.date=s.val()):h.locals.required&&p()?(v=!0,h.date="",a=h.getInputNgModel(),a.invalidFormatMessage=null,a.$setValidity("dateFormat",!0)):h.date!==h.locals.date&&(v=!0,h.date=h.locals.date)})})})}}}]).directive("bbDatepickerCustomValidate",["$filter","bbDatepickerParser",function(a,b){return{restrict:"A",require:["ngModel","^bbDatepicker"],link:function(c,d,e,f){var g=f[0],h=e.datepickerPopup;e.bbDatepickerCustomValidate&&"true"===e.bbDatepickerCustomValidate?g.$parsers=[]:g.$parsers.unshift(function(c){var e=g.$viewValue,f=null;return"object"==typeof e||""===e?e:(f=b.runParsers(e,h),angular.isDate(f)&&d.val(a("date")(f,h)),f?f:c)}),f[1].getInputNgModel=function(){return g}}}}]).factory("bbDatepickerParser",["bbMoment",function(a){function b(a){var b,c,d=null;return angular.isString(a)&&-1!==a.indexOf("T00:00:00")&&(c=a.split("T")[0],b=c.split("-"),d=new Date(b[0],b[1]-1,b[2])),d}function c(a,b){var c,d,e,f=null,g=b.indexOf("y"),h=b.indexOf("M"),i=b.indexOf("d");if(angular.isString(a)&&8===a.length&&!isNaN(a)){if(g>i&&g>h)c=4,i>h?(e=2,d=0):(e=0,d=2);else{if(!(h>g&&i>h))return null;c=0,d=4,e=6}f=new Date(a.substr(c,4),a.substr(d,2)-1,a.substr(e,2))}return f}function d(a){return a.match(/[.\/\-\s].*?/)}function e(a){var b=d(a),c=a.split(b),e=-1!==a.indexOf(b,a.length-1),f=0===a.indexOf(b),g=c.length-1===2,h=c.some(function(a){return 0===Number(a)});return b&&!e&&!f&&g&&!h}function f(a,b){var c,f,g,h,i;if(angular.isString(a)&&e(a)){if(10===a.length)return!0;if(9===a.length||8===a.length){if(i=d(a),c=a.split(i),f=b.indexOf("y"),g=b.indexOf("M"),h=b.indexOf("d"),f>g&&f>h)return 4===c[2].length;if(g>f&&h>f)return 4===c[0].length}}return!1}function g(b,c){var d,e=null;return f(b,c)&&(d=a(b,c.toUpperCase()),d.isValid()&&(e=d.toDate())),e}return{parseUTCString:b,parseNoSeparatorDateString:c,parseMoment:g,runParsers:function(a,d){var e=null;return!a||angular.isDate(a)||""===a?a:(e=b(a),angular.isDate(e)?e:(e=c(a,d),angular.isDate(e)?e:e=g(a,d)))}}}])}(jQuery),function(){"use strict";angular.module("sky.daterangepicker",["sky.resources"]).factory("bbDateRangePicker",["bbResources",function(a){function b(b){switch(b=angular.isNumber(b)?{dateRangeType:b}:b||{},angular.isDefined(b.dateRangeType)||(b.dateRangeType=d.AT_ANY_TIME),b.dateRangeType){case d.AT_ANY_TIME:return a.date_range_picker_at_any_time;case d.THIS_WEEK:return a.date_range_picker_this_week;case d.NEXT_WEEK:return a.date_range_picker_next_week;case d.THIS_MONTH:return a.date_range_picker_this_month;case d.NEXT_MONTH:return a.date_range_picker_next_month;case d.THIS_QUARTER:return a.date_range_picker_this_quarter;case d.NEXT_QUARTER:return a.date_range_picker_next_quarter;case d.THIS_FISCAL_YEAR:return a.date_range_picker_this_fiscal_year;case d.NEXT_FISCAL_YEAR:return a.date_range_picker_next_fiscal_year;case d.THIS_CALENDAR_YEAR:return a.date_range_picker_this_calendar_year;case d.NEXT_CALENDAR_YEAR:return a.date_range_picker_next_calendar_year;case d.LAST_WEEK:return a.date_range_picker_last_week;case d.LAST_MONTH:return a.date_range_picker_last_month;case d.LAST_QUARTER:return a.date_range_picker_last_quarter;case d.LAST_FISCAL_YEAR:return a.date_range_picker_last_fiscal_year;case d.LAST_CALENDAR_YEAR:return a.date_range_picker_last_calendar_year;case d.TODAY:return a.date_range_picker_today;case d.YESTERDAY:return a.date_range_picker_yesterday;case d.TOMORROW:return a.date_range_picker_tomorrow}}function c(b){switch(b=b||{},angular.isDefined(b.dateRangeType)||(b.dateRangeType=d.AT_ANY_TIME),b.dateRangeType){case d.AT_ANY_TIME:return a.date_range_picker_filter_description_at_any_time;case d.THIS_WEEK:return a.date_range_picker_filter_description_this_week;case d.NEXT_WEEK:return a.date_range_picker_filter_description_next_week;case d.THIS_MONTH:return a.date_range_picker_filter_description_this_month;case d.NEXT_MONTH:return a.date_range_picker_filter_description_next_month;case d.THIS_QUARTER:return a.date_range_picker_filter_description_this_quarter;case d.NEXT_QUARTER:return a.date_range_picker_filter_description_next_quarter;case d.THIS_FISCAL_YEAR:return a.date_range_picker_filter_description_this_fiscal_year;case d.NEXT_FISCAL_YEAR:return a.date_range_picker_filter_description_next_fiscal_year;case d.THIS_CALENDAR_YEAR:return a.date_range_picker_filter_description_this_calendar_year;case d.NEXT_CALENDAR_YEAR:return a.date_range_picker_filter_description_next_calendar_year;case d.LAST_WEEK:return a.date_range_picker_filter_description_last_week;case d.LAST_MONTH:return a.date_range_picker_filter_description_last_month;case d.LAST_QUARTER:return a.date_range_picker_filter_description_last_quarter;case d.LAST_FISCAL_YEAR:return a.date_range_picker_filter_description_last_fiscal_year;case d.LAST_CALENDAR_YEAR:return a.date_range_picker_filter_description_last_calendar_year;case d.TODAY:return a.date_range_picker_filter_description_today;case d.YESTERDAY:return a.date_range_picker_filter_description_yesterday;case d.TOMORROW:return a.date_range_picker_filter_description_tomorrow}}var d,e,f;return d={AT_ANY_TIME:0,NEXT_WEEK:1,THIS_MONTH:2,NEXT_MONTH:3,THIS_QUARTER:4,NEXT_QUARTER:5,THIS_FISCAL_YEAR:6,NEXT_FISCAL_YEAR:7,THIS_CALENDAR_YEAR:8,NEXT_CALENDAR_YEAR:9,LAST_WEEK:10,LAST_MONTH:11,LAST_QUARTER:12,LAST_FISCAL_YEAR:13,LAST_CALENDAR_YEAR:14,TODAY:15,YESTERDAY:16,TOMORROW:17,THIS_WEEK:18},e=[d.AT_ANY_TIME,d.YESTERDAY,d.TODAY,d.TOMORROW,d.LAST_WEEK,d.THIS_WEEK,d.NEXT_WEEK,d.LAST_MONTH,d.THIS_MONTH,d.NEXT_MONTH,d.LAST_QUARTER,d.THIS_QUARTER,d.NEXT_QUARTER,d.LAST_CALENDAR_YEAR,d.THIS_CALENDAR_YEAR,d.NEXT_CALENDAR_YEAR,d.LAST_FISCAL_YEAR,d.THIS_FISCAL_YEAR,d.NEXT_FISCAL_YEAR],f=[d.AT_ANY_TIME,d.YESTERDAY,d.TODAY,d.LAST_WEEK,d.THIS_WEEK,d.LAST_MONTH,d.THIS_MONTH,d.LAST_QUARTER,d.THIS_QUARTER,d.LAST_CALENDAR_YEAR,d.THIS_CALENDAR_YEAR,d.LAST_FISCAL_YEAR,d.THIS_FISCAL_YEAR],{dateRangeTypes:d,defaultDateRangeOptions:e,pastDateRangeOptions:f,getDateRangeTypeCaption:b,getDateRangeFilterDescription:c}}]).directive("bbDateRangePicker",["bbDateRangePicker",function(a){return{replace:!0,restrict:"E",templateUrl:"sky/templates/daterangepicker/daterangepicker.html",scope:{bbDateRangePickerValue:"=",bbDateRangePickerAutomationId:"=",bbDateRangePickerOptions:"="},controller:["$scope",function(b){b.locals={bbDateRangePicker:a},b.$watch("bbDateRangePickerValue",function(c){return c?void(c.dateRangeType=c.dateRangeType||a.dateRangeTypes.AT_ANY_TIME):void(b.bbDateRangePickerValue={
dateRangeType:a.dateRangeTypes.AT_ANY_TIME})},!0)}]}}])}(),function(){"use strict";angular.module("sky.fileattachments",["sky.fileattachments.filedrop","sky.fileattachments.fileitem","sky.fileattachments.filesize"])}(),function(a){"use strict";function b(b,c){return{link:function(b,c,d){b.bbFileDrop={hasTranscludeContents:a.trim(c.find(".bb-file-drop-contents-custom").html()).length>0,allowLinks:angular.isDefined(d.bbFileDropLink),addLink:function(){b.bbFileDropLinkChange({link:{url:b.bbFileDrop.url}}),b.bbFileDrop.url=null},fileChange:function(a,c,d){b.bbFileDropChange({files:a,rejectedFiles:d})}}},scope:{bbFileDropChange:"&",bbFileDropLinkChange:"&"},template:function(a,b){var d;a.html(c.get("sky/templates/fileattachments/filedrop.html")),d=a.find(".bb-file-drop"),d.attr({"ngf-allow-dir":b.bbFileDropAllowDir,"ngf-accept":b.bbFileDropAccept,"ngf-multiple":b.bbFileDropMultiple||"true","ngf-min-size":b.bbFileDropMinSize||"0","ngf-max-size":b.bbFileDropMaxSize||"500000"}),angular.isDefined(b.bbFileDropNoclick)?d.addClass("bb-file-drop-noclick"):d.attr("ngf-select","")},transclude:!0}}b.$inject=["$parse","$templateCache"],angular.module("sky.fileattachments.filedrop",["ngFileUpload","sky.resources"]).directive("bbFileDrop",b)}(jQuery),function(){"use strict";function a(){return{link:function(a){function b(){var b="";return a.item&&(b=a.item.type||""),b.toUpperCase()}function c(){var b,c="";return a.item&&(b=a.item.name||"",c=b.substr(b.lastIndexOf("."))||""),c.toUpperCase()}a.bbFileItem={isFile:function(){var b=a.item;return b&&angular.isDefined(b.size)},isImg:function(){var a=b();return 0===a.indexOf("IMAGE/")}},a.$watch("item.type",function(){var d,e,f=c();switch(f){case".PDF":d="pdf";break;case".GZ":case".RAR":case".TGZ":case".ZIP":d="archive";break;case".PPT":case".PPTX":d="powerpoint";break;case".DOC":case".DOCX":d="word";break;case".XLS":case".XLSX":d="excel";break;case".TXT":d="text";break;case".HTM":case".HTML":d="code"}if(!d)switch(e=b(),e.substr(0,e.indexOf("/"))){case"AUDIO":d="audio";break;case"TEXT":d="text";break;case"VIDEO":d="video"}a.bbFileItem.otherCls="fa-file-"+(d?d+"-":"")+"o"})},scope:{item:"=bbFileItem",itemDelete:"&bbFileItemDelete"},templateUrl:"sky/templates/fileattachments/fileitem.html",transclude:!0}}angular.module("sky.fileattachments.fileitem",["ngFileUpload","sky.fileattachments.filesize","sky.resources"]).directive("bbFileItem",a)}(),function(){"use strict";function a(a,b,c){return function(d){var e,f,g,h=0,i=1;return null===d||angular.isUndefined(d)?"":(1===Math.abs(d)?g=c.file_size_b_singular:1e3>d?g=c.file_size_b_plural:1e6>d?(g=c.file_size_kb,i=1e3):1e9>d?(g=c.file_size_mb,i=1e6,h=1):(g=c.file_size_gb,i=1e9,h=1),f=Math.floor(d/(i/Math.pow(10,h)))/Math.pow(10,h),e=a("number")(f),b.formatText(g,e))}}a.$inject=["$filter","bbFormat","bbResources"],angular.module("sky.fileattachments.filesize",["sky.format","sky.resources"]).filter("bbFileSize",a)}(),function(){"use strict";angular.module("sky.filters",["sky.format"]).filter("encodeURIComponent",["$window",function(a){return function(b){return a.encodeURIComponent(b)}}]).filter("format",["bbFormat",function(a){return function(){return a.formatText.apply(this,arguments)}}])}(),function(){"use strict";function a(a){return c[a]}function b(a){return null===a||angular.isUndefined(a)}var c={"&":"&amp;","<":"&lt;",">":"&gt;"};angular.module("sky.format",[]).factory("bbFormat",function(){return{formatText:function(a){var c;return b(a)?"":(c=arguments,String(a).replace(/\{(\d+)\}/g,function(a,b){return c[parseInt(b,10)+1]}))},escape:function(c){return b(c)?"":String(c).replace(/[&<>]/g,a)}}})}(),function(){"use strict";function a(a){var b,c,d,e=[];for(d=a.length,c=0;d>c;c++)b=a[c],b.category&&-1===e.indexOf(b.category)&&e.push(b.category);return e}function b(a,b){return a=a.title.toLocaleLowerCase(),b=b.title.toLocaleLowerCase(),b>a?-1:a>b?1:0}function c(a,b){var c=[];return angular.forEach(a,function(a){b.indexOf(a.id)>=0&&c.push(a)}),c}function d(d,e,f,g,h){var i,j=[];angular.forEach(e,function(a){j.push({id:a.id,name:a.name,title:a.caption,category:a.category,description:a.description})}),i=c(j,f),j.sort(b),d.columns=j,d.categories=a(j),d.locals={},d.locals.selectedColumns=i.slice(0),d.columnPickerHelpKey=g,d.listMode=h,d.applyChanges=function(){var a,b,c=d.columns,e=d.locals.selectedColumns,g=[];angular.forEach(f,function(d){for(b=0;b<c.length;b++)if(a=c[b],a.id===d){e.indexOf(a)>=0&&g.push(a.id);break}}),angular.forEach(e,function(a){var b=a.id;g.indexOf(b)<0&&g.push(b)}),d.$close(g)}}d.$inject=["$scope","columns","selectedColumnIds","columnPickerHelpKey","listMode"],angular.module("sky.grids.columnpicker",["sky.checklist","sky.resources"]).controller("BBGridColumnPickerController",d)}(),function(){"use strict";angular.module("sky.grids.actionbar",["sky.mediabreakpoints","sky.resources"]).directive("bbGridActionBar",["bbMediaBreakpoints","bbResources","$timeout",function(a,b,c){return{require:"^bbGrid",replace:!0,transclude:!0,restrict:"E",scope:{bbMultiselectActions:"=",bbSelectionsUpdated:"&"},controller:["$scope",function(a){a.locals={actions:a.bbMultiselectActions,showActionBar:!1,mobileButtons:!1,showMobileActions:!1},a.resources=b}],link:function(b,d,e,f){function g(a,d){var e,g,h;if(i=f.getVisibleSelections(a,d),b.bbSelectionsUpdated({selections:{selections:i}}),h=!1,b.locals.actions)for(g=0;g<b.locals.actions.length;g++)e=b.locals.actions[g],e.selections.length>0&&(h=!0);b.locals.showActionBar=h,h&&c(function(){f.syncActionBarViewKeeper()})}function h(a){b.locals.mobileButtons=a.xs}var i=[];f.scope.$watchCollection("selectedRows",function(a){g(f.scope.options.data,a)}),f.scope.$watchCollection("options.data",function(a){g(a,f.scope.selectedRows)}),a.register(h),d.on("$destroy",function(){a.unregister(h)}),b.locals.clearSelection=function(){i.length===f.scope.selectedRows.length?f.resetMultiselect():f.toggleMultiselectRows(i)},b.locals.chooseAction=function(){b.locals.showMobileActions=!0},b.locals.cancelChooseAction=function(){b.locals.showMobileActions=!1}},templateUrl:"sky/templates/grids/actionbar.html"}}])}(),function(){"use strict";angular.module("sky.grids.filters",["sky.help","sky.resources","sky.mediabreakpoints"]).directive("bbGridFilters",["bbHelp","bbResources","bbMediaBreakpoints",function(a,b,c){return{require:"^bbGrid",replace:!0,transclude:!0,restrict:"E",scope:{bbOptions:"="},controller:["$scope",function(a){a.applyFilters=function(){var b={},d=a.bbOptions;d&&d.applyFilters&&(d.applyFilters(b),a.updateFilters(b.filters),c.getCurrent().xs&&(a.expanded=!1))},a.clearFilters=function(){var b={},c=a.bbOptions;c&&c.clearFilters&&(c.clearFilters(b),a.updateFilters(b.filters))}}],link:function(c,d,e,f){var g=d.find(".bb-grid-filters-box"),h=d.find(".bb-grid-filters-container");c.viewKeeperOptions={},f.viewKeeperChangedHandler=function(a){c.viewKeeperOptions.viewKeeperOffsetElId=a},f.toggleFilterMenu=function(){c.expanded=!c.expanded,c.expanded&&a.close()},f.openFilterMenu=function(){c.expanded=!0},f.scope.$watch("gridCreated",function(a){a&&d.show()}),c.updateFilters=function(a){f.setFilters(a)},c.resources=b,c.$watch("expanded",function(a,b){var c=250;a!==b&&(a?(g.css("left","240px"),h.show(),g.animate({left:"0"},c)):g.animate({left:"240px"},{duration:c,complete:function(){g.css("left","0"),h.hide()}}))})},templateUrl:"sky/templates/grids/filters.html"}}]).directive("bbGridFiltersGroup",function(){return{replace:!0,transclude:!0,restrict:"E",scope:{bbGridFiltersGroupLabel:"=",isCollapsed:"=?bbGridFiltersGroupIsCollapsed"},templateUrl:"sky/templates/grids/filtersgroup.html"}}).directive("bbGridFiltersSummary",["bbResources",function(a){return{require:"^bbGrid",replace:!0,transclude:!0,restrict:"E",scope:{bbOptions:"="},controller:["$scope",function(b){b.clearFilters=function(){var a={},c=b.bbOptions;c&&c.clearFilters&&(c.clearFilters(a),b.updateFilters(a.filters))},b.resources=a}],link:function(a,b,c,d){var e=b.parents(".bb-grid-container").find(".bb-grid-toolbar-container .bb-grid-filter-summary-container");e.append(b),a.updateFilters=function(a){d.setFilters(a)},a.openFilterMenu=function(){d.openFilterMenu&&d.openFilterMenu()},a.$watch(function(){return b.is(":visible")},function(a,b){a!==b&&d.syncViewKeepers()})},templateUrl:"sky/templates/grids/filterssummary.html"}}])}(),function(a){"use strict";function b(a,b){var c;for(c=0;c<a.length;c++)if(angular.equals(a[c],b))return c;return-1}var c=5,d=5,e=150,f=35,g=40,h="dropdownToggle",i="cb";angular.module("sky.grids",["sky.modal","sky.mediabreakpoints","sky.viewkeeper","sky.highlight","sky.resources","sky.data","sky.grids.columnpicker","sky.grids.filters","sky.grids.actionbar","sky.window"]).directive("bbGrid",["bbModal","$window","$compile","$templateCache","bbMediaBreakpoints","bbViewKeeperBuilder","bbHighlight","bbResources","bbData","$controller","$timeout","bbWindow",function(j,k,l,m,n,o,p,q,r,s,t,u){return{replace:!0,transclude:!0,restrict:"E",scope:{options:"=bbGridOptions",multiselectActions:"=?bbMultiselectActions",updateMultiselectActions:"&bbSelectionsUpdated",paginationOptions:"=?bbGridPagination",selectedRows:"=?bbSelectedRows"},controller:["$scope",function(a){var c,d=this;d.setFilters=function(b){a.options.filters=b,a.locals.applySearchText()},d.syncViewKeepers=function(){a.syncViewKeepers&&a.syncViewKeepers()},d.syncActionBarViewKeeper=function(){angular.isFunction(a.syncActionBarViewKeeper)&&a.syncActionBarViewKeeper()},d.resetMultiselect=function(){angular.isFunction(c.resetMultiselect)&&c.resetMultiselect()},d.getVisibleSelections=function(a,c){var d,e,f=[];for(d=0;d<c.length;d++)e=b(a,c[d]),e>-1&&f.push(c[d]);return f},d.toggleMultiselectRows=function(a){angular.isFunction(c.toggleMultiselectRows)&&c.toggleMultiselectRows(a)},d.scope=a,a.resources=q,c=a.locals={gridId:"bbgrid-table-"+a.$id,hasAdd:!1,hasColPicker:!0,hasFilters:!0,onAddClick:function(){c.hasAdd&&a.options&&a.options.onAddClick&&a.options.onAddClick()},toggleFilterMenu:function(){d.toggleFilterMenu&&d.toggleFilterMenu()},loadMore:function(){a.$emit("loadMoreRows")}},a.$watch("options.viewKeeperOffsetElId",function(a,b){a!==b&&d.viewKeeperChangedHandler&&d.viewKeeperChangedHandler(a)})}],link:function(q,v){function w(a){q.locals.timestamp=(new Date).getTime(),q.locals.rowcount=a}function x(a){Xa=a,q.options&&q.options.selectedColumnIds&&q.options.selectedColumnIds.length>0&&cb[0].grid&&(ra(),q.options.data&&q.options.data.length>0&&va(q.options.data))}function y(a){var b="";return a.exclude_from_search&&(b+="bb-grid-no-search "),b}function z(){return""}function A(a,b,c,d){return"data-grid-field='"+d.name+"'data-bbauto-field='"+d.name+"'data-bbauto-index='"+(cb.getInd(a)-1)+"'"}function B(a){return Ia+"-dropdownMenu-"+a}function C(a,b){return a+"-"+b.id}function D(a,b,c){var d,e,f,g,h,i,j;if(angular.isFunction(Fa)&&(h=b.rowId,i=qa()+h,d=B(i),g=Fa(h,c),$a[i]=g,g&&g.length)){for(j='<div data-bbauto-field="ContextMenuActions" class="dropdown" id="'+d+'">  <a data-bbauto-field="ContextMenuAnchor" role="button" class="dropdown-toggle sky-icon sky-icon-2x sky-icon-multi-action" data-toggle="dropdown" href="javascript:void(0)"></a>  <ul class="dropdown-menu" role="menu" aria-labelledby="'+d+'">',e=0;e<g.length;e++)f=g[e],j+='<li role="presentation"><a id="'+C(d,f)+'" role="menuitem" href="javascript:void(0)">'+f.title+"</a></li>";return j+="</ul></div>"}return""}function E(a,b){var c,d;for(d=0;d<a.length;d++)if(c=a[d],c.id===b)return c}function F(){Da=null,Ba=null,Ka=null,Ca=null,Ja=!1}function G(a){var b;return b=a.width_all>0?a.width_all:e,Xa.xs?a.width_xs>0?a.width_xs:b:Xa.sm?a.width_sm>0?a.width_sm:b:Xa.md?a.width_md>0?a.width_md:b:Xa.lg&&a.width_lg>0?a.width_lg:b}function H(a,b){var c,d,e,f,i=[];for(Fa&&(i.push({classes:"bb-grid-dropdown-cell",fixed:!0,sortable:!1,name:h,label:" ",width:g,title:!1,hidedlg:!0,resizable:!1,search:!1,formatter:D}),Pa+=g),Ga=!1,F(),e=0;e<b.length;e++)c=E(a,b[e]),c&&(d=G(c),e===b.length-1&&eb.width()>d+Pa&&(Ja=!0,Ka=d,Da=c.name,Ca=e,_a.multiselect&&(Ca+=1),Fa&&(Ca+=1),d=eb.width()-Pa,Ba=d),f={index:c.id.toString(),sortable:!1,id:c.id,name:c.name,label:c.caption,align:c.right_align?"right":c.center_align?"center":"left",classes:y(c),cellattr:A,controller:c.controller,template_url:c.template_url,jsonmap:c.jsonmap,allow_see_more:c.allow_see_more,width:d},c.allow_see_more&&!f.template_url&&(f.template_url=bb,Za[bb]||(Za[bb]=l(m.get(bb)))),f.template_url?(f.formatter=z,Ga=!0):c.colFormatter&&(f.formatter=c.colFormatter),i.push(f),Pa+=d);return i}function I(a){return _a.gridId+"_"+a}function J(a){return a?a.replace(_a.gridId+"_",""):void 0}function K(){var a=eb.width();return Pa>a?(a=Pa,eb.addClass("bb-grid-table-wrapper-overflow")):eb.addClass("bb-grid-table-wrapper"),a}function L(){Pa>gb.width()&&!Xa.xs?(gb.height(Wa),hb.height(Wa)):(gb.height(0),hb.height(0))}function M(){hb.width(Pa),L()}function N(a,b){var c=Ba-Ka;a>=c?(cb.setColProp(Da,{widthOrg:Ka}),b?Pa+=a-c:Pa-=c,eb.addClass("bb-grid-table-wrapper-overflow"),F()):(Ba-=a,cb.setColProp(Da,{widthOrg:Ba}),b||(Pa-=a)),cb.setGridWidth(Pa,!0),M()}function O(a,b){var c,d;gb.width(eb.width()),Ja&&a>b?(c=a-b,N(c,!1)):(Pa===a&&(Pa=b),d=K(),d>0&&(cb.setGridWidth(d),M()))}function P(){var a=q.options.selectedColumnIds.length-1;return _a.multiselect&&(a+=1),Fa&&(a+=1),a}function Q(a,b){var c,d,e=P();jb=!1,c=v.find(".ui-jqgrid"),b===e&&Na>c.width()&&(c.width(Na),v.find(".ui-jqgrid-hdiv").width(Na),v.find(".ui-jqgrid-hdiv tr").css("padding-right",Na.toString()+"px")),Ea.find(".ui-jqgrid-resize-mark").height(Ea.height()),d=v.find(".ui-jqgrid .ui-jqgrid-hdiv .ui-jqgrid-htable th"),Va=parseInt(d[b].style.width)}function R(){Ta&&Ta.isFixed&&(Ha.width(eb.width()),Ha.scrollLeft(eb.scrollLeft()))}function S(a,b){var c;if(eb.addClass("bb-grid-table-wrapper-overflow"),c=a-Va,Ja){if(b!==Ca&&c>0)return N(c,!0),F(),void R();F()}Pa+=c,cb.setGridWidth(Pa,!1),M(),R()}function T(){var a,b,c;Ha&&(Ha.find("th").removeClass("sorting-asc").removeClass("sorting-desc"),q.options&&(c=q.options.sortOptions,c&&c.column&&(b=I(c.column),a=c.descending?"sorting-desc":"sorting-asc",Ha.find("#"+b).addClass(a))))}function U(a){var b,c=q.options.sortOptions;return a===h||a===i?!1:c&&(b=c.excludedColumns,b&&b.indexOf(a)>-1)?!1:!0}function V(){j.open({templateUrl:"sky/templates/grids/columnpicker.html",controller:"BBGridColumnPickerController",resolve:{columns:function(){return q.options.columns},selectedColumnIds:function(){return q.options.selectedColumnIds},columnPickerHelpKey:function(){return q.options.columnPickerHelpKey},listMode:function(){return q.options.columnPickerMode}}}).result.then(function(a){q.options.selectedColumnIds=a})}function W(){var a=q.options;a&&a.searchText?p(cb.find("td").not(".bb-grid-no-search"),a.searchText,"highlight"):p.clear(cb)}function X(a,b,c){c(a,function(a){b.append(a)})}function Y(c,d,e){var f,g,h,i,j,k,l,m,n,o,p,r;if(Ga)for(Ma||(Ma=a(this)),p=Ma.find("#"+c),j=0;j<Aa.length;j++)h=Aa[j],h.template_url&&(g=p.find('[data-grid-field="'+h.name+'"]'),i=d[h.name],n=q.$new(!0),n.data=i,n.rowData=e,h.allow_see_more&&(n.skyResources=q.resources),q.options.resources&&(n.resources=q.options.resources),h.controller&&s(h.controller,{$scope:n}),za.push(n),X(n,g,Za[h.template_url]));if(r=cb.getInd(c),k=function(b,d){return function(){return b(c),a(d).dropdown("toggle"),!1}},$a&&$a[c])for(o=B(c),m=$a[c],j=0;j<m.length;++j)l=m[j],f=a("#"+C(o,l)),a(f).on("click",k(l.cmd,f));q.selectedRows&&q.selectedRows.length>0&&(p=q.options.data[r-1],p&&b(q.selectedRows,p)>-1&&cb.setSelection(c,!1))}function Z(){var a,b,c;for(c=0;c<Aa.length;c++)b=Aa[c],a="center"===b.align?"bb-grid-th-center":"right"===b.align?"bb-grid-th-right":"bb-grid-th-left",cb.setLabel(b.name,"",a)}function $(){Fa&&v.find(".ui-jqgrid-bdiv").css("padding-bottom","100px"),Z()}function _(a){var b,c,d=0,e=q.options.selectedColumnIds,f=[];for(F(),angular.isFunction(Fa)&&(d+=1),_a.multiselect&&(d+=1),b=d;b<a.length;b++)c=a[b],f.push(e[c-d]);La=!0,q.options.selectedColumnIds=f,q.$apply()}function aa(){var a={update:_};return Fa&&(a.exclude="#"+q.locals.gridId+"_"+h),a}function ba(){q.selectedRows=[]}function ca(b){a(v.find(".cbox")).each(function(){this.checked=b}).iCheck("update")}function da(){ba(),cb.resetSelection(),ca(!1)}function ea(a,b){var c;ab=!0,ba(),b===!0&&(c=q.options.data,c&&c.length>0&&(q.selectedRows=c.slice())),ca(b),q.$apply()}function fa(a,b){var c;c=v.find("td .cbox"),c.length>a-1&&(c[a-1].checked=b,c.eq(a-1).iCheck("update"))}function ga(a){var b;b=Ha.find("th .cbox"),b.length>0&&(b[0].checked=a,b.eq(0).iCheck("update"))}function ha(a){var c,d,e;for(a.length>0&&ga(!1),e=cb.getDataIDs(),c=0;c<a.length;c++)d=b(q.options.data,a[c]),cb.setSelection(e[d],!0)}function ia(a,c){t(function(){var d,e,f=cb.getInd(a);e=q.options.data[f-1],ab=!0,ga(!1),d=b(q.selectedRows,e),c===!0&&-1===d&&e?(q.selectedRows.push(e),fa(f,!0)):c===!1&&d>-1&&(q.selectedRows.splice(d,1),fa(f,!1))})}function ja(a,b){var c;cb.setSelection(a,!1),c=q.options.data[b-1],q.selectedRows.push(c),fa(b,!0)}function ka(a,b){var c,d,e,f,g=parseInt(cb.getInd(a));if(ab=!0,b.shiftKey){if(e=cb.getInd(cb.getGridParam("selrow")),da(),(angular.isUndefined(e)||null===e)&&(e=1),c=parseInt(e),f=cb.getDataIDs(),g>c)for(d=g;d>c-1;d-=1)ja(f[d-1],d);else{if(!(c>g))return q.$apply(),!0;for(d=g;c+1>d;d+=1)ja(f[d-1],d)}return q.$apply(),!1}return!0}function la(){var a=(q.locals.currentPage-1)*q.paginationOptions.itemsPerPage,b=q.paginationOptions.itemsPerPage;q.$emit("loadMoreRows",{top:b,skip:a})}function ma(){angular.isDefined(q.paginationOptions)&&(q.paginationOptions.itemsPerPage||(q.paginationOptions.itemsPerPage=c),q.paginationOptions.maxPages||(q.paginationOptions.maxPages=d),q.paginationOptions.pageChanged=la,q.locals.currentPage=1)}function na(){var a=Ha.find("th .cbox");a.iCheck({checkboxClass:"bb-check-checkbox"}),a.off("click.i"),v.find("th .bb-check-checkbox").off("click.i"),v.find("th .iCheck-helper").off("mousedown"),v.find("th .iCheck-helper").off("mouseup"),v.find("th .iCheck-helper").off("click"),v.find("th .iCheck-helper").on("click",function(){v.find("th .cbox").trigger("click")})}function oa(){v.find("td .cbox").iCheck({checkboxClass:"bb-check-checkbox"}),v.find("td .cbox").off("click"),v.find("td .bb-check-checkbox").off("click"),v.find("td .iCheck-helper").off("click")}function pa(){v.find("td .cbox").iCheck("destroy")}function qa(){return"bb-grid-row-"+q.$id+"-"}function ra(){var b,c,d,e=!0,g=!1;Pa=0,jb=!0,Na=eb.width(),_a.multiselect=!1,Ma=null,cb.jqGrid("GridUnload"),pa(),cb=v.find("table"),db=cb[0],q.options&&(b=q.options.columns,d=q.options.selectedColumnIds,Fa=q.options.getContextMenuItems,angular.isFunction(q.options.onAddClick)&&(_a.hasAdd=!0),q.options.hideColPicker&&(_a.hasColPicker=!1),q.options.hideFilters&&(_a.hasFilters=!1),q.options.multiselect&&(_a.multiselect=!0,g=!0,Pa+=f),q.searchText=q.options.searchText),v[_a.multiselect?"addClass":"removeClass"]("bb-grid-multiselect"),Fa&&(e=!1),b&&d&&(Aa=H(b,d),Ya=Aa.length,c={afterInsertRow:Y,autoencode:!0,beforeSelectRow:ka,colModel:Aa,datatype:angular.noop,gridComplete:$,gridView:e,height:"auto",hoverrows:g,idPrefix:qa(),multiselect:_a.multiselect,multiselectWidth:f,onSelectAll:ea,onSelectRow:ia,resizeStart:Q,resizeStop:S,rowNum:-1,shrinktofit:!1,sortable:aa(),width:K()},cb.jqGrid(c),Ha=a(db.grid.hDiv),Ha.find("th").on("click",function(){var b,c=q.options.sortOptions;c||(c=q.options.sortOptions={}),b=J(this.id),U(b)&&(c.column=b,c.descending=a(this).hasClass("sorting-asc"),q.$apply())}),Ea=Ha.parents(".ui-jqgrid:first"),Ta&&Ta.destroy(),fb.show(),gb.width(eb.width()),M(),q.options.fixedToolbar||(Ta=new o.create({el:Ha[0],boundaryEl:eb[0],verticalOffSetElId:Oa,setWidth:!0,onStateChanged:function(){Ta.isFixed?Ha.scrollLeft(eb.scrollLeft()):Ha.scrollLeft(0)}})),T(),na(),q.gridCreated=!0)}function sa(){var a;if(za)for(a=0;a<za.length;a++)za[a].$destroy();za=[]}function ta(a){var b,c={};q.options&&(b=q.options.columns,b&&angular.forEach(b,function(a){var b=a.template_url;b&&!Za[b]&&(c[b]=b)})),r.load({text:c}).then(function(b){var c,d;for(c in b.text)b.text.hasOwnProperty(c)&&(d=b.text[c],d&&(Za[c]=l(d)));a()})}function ua(){var a=eb.width();Na&&Na!==a?(jb?O(Na,a):gb.width(a),Na=a):Na=a}function va(a){db.addJSONData&&ta(function(){_a.multiselect&&v.find("td").off("mousedown.gridmousedown"),cb.resetSelection(),pa(),sa(),db.addJSONData(a),t(W),ua(),w(a?a.length:0),oa()})}function wa(){Sa&&Sa.destroy(),Ra&&Ra.destroy(),q.options&&(Qa=q.options.viewKeeperOffsetElId),q.options&&q.options.fixedToolbar||(Sa=new o.create({el:fb[0],boundaryEl:eb[0],setWidth:!0,verticalOffSetElId:Qa,onStateChanged:function(){t(function(){_a.isScrolled=Sa.isFixed})}})),Ra=new o.create({el:v.find(".bb-grid-action-bar-and-back-to-top")[0],boundaryEl:v[0],setWidth:!0,verticalOffSetElId:Qa,fixToBottom:!0})}function xa(){var a;a=v.find(".bb-search-container input"),angular.isFunction(a.select)&&a.length>0&&q.searchText&&a.eq(0).select(),q.options.searchText=q.searchText}function ya(){Sa.scrollToTop()}var za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa={},Ya=0,Za=[],$a={},_a=q.locals,ab=!1,bb="sky/templates/grids/seemore.html",cb=v.find("table"),db=cb[0],eb=v.find(".table-responsive"),fb=v.find(".bb-grid-toolbar-container"),gb=v.find(".bb-grid-top-scrollbar"),hb=gb.find(">div"),ib=a(k),jb=!0;_a.resetMultiselect=da,_a.toggleMultiselectRows=ha,(angular.isUndefined(q.selectedRows)||!angular.isArray(q.selectedRows))&&(q.selectedRows=[]),Wa=u.getScrollbarWidth(),Ia=q.$id,Oa=Ia+"-toolbar-container",_a.openColumnPicker=V,_a.backToTop=ya,fb.attr("id",Oa),q.$watch("options.selectedColumnIds",function(a){var b;if(a){if(La)return void(La=!1);ra(),b={willResetData:!1},q.$emit("includedColumnsChanged",b),!b.willResetData&&q.options.data&&q.options.data.length>0&&va(q.options.data)}},!0),q.$watchCollection("selectedRows",function(a){var c,d,e;if(ab)return void(ab=!1);if(cb[0].grid&&q.options.data&&q.options.data.length>0)for(cb.resetSelection(),ca(!1),e=cb.getDataIDs(),c=0;c<a.length;c++)d=b(q.options.data,a[c]),d>-1&&(cb.setSelection(e[d],!1),fa(d+1,!0))}),q.$watch("paginationOptions",ma,!0),q.$watchCollection("options.data",va),_a.applySearchText=xa,q.syncViewKeepers=function(){Sa&&Sa.syncElPosition()},q.syncActionBarViewKeeper=function(){Ra&&Ra.syncElPosition()},q.$watch("options.sortOptions",T,!0),q.$watchGroup(["options.viewKeeperOffsetElId","options.fixedToolbar"],function(){wa()}),q.$watch("options.filters",function(a){q.$broadcast("updateAppliedFilters",a)}),n.register(x),eb.on("scroll",function(){Ta&&Ta.syncElPosition(),Ha.hasClass("bb-viewkeeper-fixed")&&Ha.scrollLeft(eb.scrollLeft()),gb.scrollLeft(eb.scrollLeft())}),Ua="bbgrid"+Ia,ib.on("resize."+Ua+", orientationchange."+Ua,function(){ua()}),gb.on("scroll",function(){eb.scrollLeft(gb.scrollLeft()),Ha.hasClass("bb-viewkeeper-fixed")&&Ha.scrollLeft(gb.scrollLeft())}),v.on("$destroy",function(){Sa&&Sa.destroy(),Ta&&Ta.destroy(),Ra&&Ra.destroy(),ib.off("resize."+Ua+", orientationchange."+Ua),gb.off(),pa(),a(v.find("th .iCheck-helper")).off("click"),n.unregister(x)})},templateUrl:"sky/templates/grids/grid.html"}}])}(jQuery),function(){"use strict";angular.module("sky.help",["ui.router"]).constant("bbHelpConfig",{onHelpLoaded:null,productId:"Sky",customLocales:[],url:null}).factory("bbHelp",["$state","$window","bbHelpConfig",function(a,b,c){function d(){function d(){b.BBHELP.HelpWidget.open.apply(b.BBHELP.HelpWidget,e)}var e=arguments;if(b.BBHELP&&b.BBHELP.HelpWidget)d();else{if(!c.url)throw new Error("bbHelpConfig.url is not defined.");jQuery.ajax({cache:!0,dataType:"script",url:c.url}).done(function(){var e=angular.extend({},c);e.getCurrentHelpKey||(e.getCurrentHelpKey=function(){return a.current.helpKeyOverride?a.current.helpKeyOverride:a.current.pageData?a.current.pageData.helpKey:null}),b.BBHELP.HelpWidget.load(e),d()})}}function e(){b.BBHELP&&b.BBHELP.HelpWidget&&b.BBHELP.HelpWidget.close.apply(b.BBHELP.HelpWidget,arguments)}return{open:d,close:e}}])}(),function(){"use strict";angular.module("sky.helpbutton",["sky.help"]).directive("bbHelpButton",["$state","$window","bbHelp",function(a,b,c){function d(b,d,e){var f;d.addClass("bb-helpbutton fa fa-question-circle close"),e.bbSetHelpKeyOverride&&"true"===e.bbSetHelpKeyOverride.toLowerCase()&&(f=a.current.helpKeyOverride,a.current.helpKeyOverride=e.bbHelpKey,d.on("remove",function(){a.current.helpKeyOverride=f})),d.click(function(){c.open(e.bbHelpKey)})}return{link:d}}])}(),function(){"use strict";angular.module("sky.helpwidget",[]).constant("bbHelpwidgetConfig",{onHelpLoaded:null,productId:"Sky",customLocales:[],url:null}).directive("bbHelpwidget",["$state","bbHelpwidgetConfig",function(a,b){function c(a){if(!b.url)throw"bbHelpwidgetConfig.url is not defined.";jQuery.ajax({cache:!0,dataType:"script",url:b.url}).done(function(){var c=angular.extend({},b);c.getCurrentHelpKey||(c.getCurrentHelpKey=function(){return a.current.helpKeyOverride?a.current.helpKeyOverride:a.current.pageData?a.current.pageData.helpKey:null}),window.BBHELP.HelpWidget.load(c)})}return{link:function(){c(a)}}}])}(),function(){"use strict";angular.module("sky.highlight",[]).factory("bbHighlight",function(){function a(a,b,e){function f(b,g){var h,i,j,k,l,m=0;if(e=e||d,a.data(c,e),3===b.nodeType)h=b.data.toUpperCase().indexOf(g),h>=0&&(i=document.createElement("span"),i.className=String(e),j=b.splitText(h),j.splitText(g.length),l=j.cloneNode(!0),i.appendChild(l),j.parentNode.replaceChild(i,j),m=1);else if(1===b.nodeType&&b.childNodes&&!/(script|style)/i.test(b.tagName))for(k=0;k<b.childNodes.length;++k)k+=f(b.childNodes[k],g);return m}return a.length&&b&&b.length?a.each(function(){f(this,b.toUpperCase())}):a}function b(a){var b=a.data(c)||d;return a.find("span."+b).each(function(){var a=this.parentNode;a.replaceChild(this.firstChild,this),a.normalize()}).end()}var c="bb-hightlight-class",d="highlight";return a.clear=b,a}).directive("bbHighlight",["bbHighlight",function(a){return{link:function(b,c){function d(){a.clear(c),b.highlightText&&a(c,b.highlightText)}b.$watch("highlightText",function(){d()}),b.$watch("beacon",function(a,c){a!==c&&b.$evalAsync(d)},!0)},restrict:"A",scope:{highlightText:"=bbHighlight",beacon:"=bbHighlightBeacon"}}}])}(),function(a){"use strict";function b(a){var b,c;for(f.xs=f.sm=f.md=f.lg=!1,f[a]=!0,c=0;c<g.length;c+=1)b=g[c],b&&b(f);d&&d(angular.noop,0)}var c,d,e={mediaQueries:{xs:"(max-width: 767px)",sm:"(min-width: 768px) and (max-width: 991px)",md:"(min-width: 992px) and (max-width: 1199px)",lg:"(min-width: 1200px)"}},f={},g=[];!function(b){"function"==typeof define&&define.amd?require(["enquire"],b):a.enquire&&b(enquire)}(function(a){function c(c){a.register(f[c],function(){b(c)})}var d,f=e.mediaQueries;for(d in f)f.hasOwnProperty(d)&&c(d)}),c={register:function(a){g.push(a),a(f)},unregister:function(a){var b;for(b=0;b<g.length;b+=1)if(g[b]===a){g.splice(b,1);break}},getCurrent:function(){return f}},angular.module("sky.mediabreakpoints",[]).constant("bbMediaBreakpointsConfig",e).factory("bbMediaBreakpoints",["$timeout",function(a){return d=a,c}])}(this),function(a){"use strict";var b=0;angular.module("sky.modal",["sky.helpbutton","sky.resources","ui.bootstrap"]).factory("bbModal",["$modal","$window",function(c,d){return{open:function(e){function f(){b--,h&&g.removeClass("bb-modal-open-mobile").scrollTop(j),g=null}var g,h,i,j;return h=/iPad|iPod|iPhone/i.test(d.navigator.userAgent),g=a(document.body),e=angular.extend({backdrop:"static",windowClass:"bb-modal"},e),h&&(j=g.scrollTop(),g.addClass("bb-modal-open-mobile")),i=c.open(e),b++,i.result.then(f,f),i}}}]).directive("bbModal",["$timeout",function(b){function c(a){return a=a||"0",parseFloat(a.replace("px",""))}function d(a){for(var b=0;a.not(".modal-dialog")&&a.length>0;)b+=a.outerHeight()-a.height(),a=a.parent();return b}return{controller:["$scope",function(a){this.setBodyEl=function(b){a.bodyEl=b}}],replace:!0,transclude:!0,restrict:"E",templateUrl:"sky/templates/modal/modal.html",link:function(e,f){function g(){var a,b,e,g;h&&h.length>0&&(b=f.parents(".modal-dialog"),b.length>0&&(a=c(b.css("margin-bottom"))+c(b.css("margin-top")),g=a+f.find(".modal-header").outerHeight()+f.find(".modal-footer").outerHeight(),g+=d(f),e=j.height()-g,h.css("max-height",e)))}var h,i,j=a(window);e.$watch("bodyEl",function(a){h=a,g()}),b(function(){g()},0),j.on("resize.bbModal"+e.$id,function(){b.cancel(i),i=b(function(){g()},250)}),f.on("$destroy",function(){j.off(".bbModal"+e.$id)})}}}]).directive("bbModalBody",function(){return{link:function(a,b,c,d){d.setBodyEl(b)},require:"^bbModal",restrict:"A",template:function(a){a.addClass("modal-body")}}}).directive("bbModalHeader",function(){return{controller:angular.noop,replace:!0,transclude:!0,require:"^bbModal",restrict:"E",templateUrl:"sky/templates/modal/modalheader.html",scope:{bbModalHelpKey:"="}}}).directive("bbModalFooter",function(){return{controller:angular.noop,replace:!0,transclude:!0,require:"^bbModal",restrict:"E",templateUrl:"sky/templates/modal/modalfooter.html"}}).directive("bbModalFooterButton",function(){return{replace:!0,transclude:!0,require:"^bbModalFooter",restrict:"E",templateUrl:"sky/templates/modal/modalfooterbutton.html"}}).directive("bbModalFooterButtonPrimary",["bbResources",function(a){return{replace:!0,transclude:!0,require:"^bbModalFooter",restrict:"E",templateUrl:"sky/templates/modal/modalfooterbuttonprimary.html",link:function(b,c){0===c.children().length&&c.append("<span>"+a.modal_footer_primary_button+"</span>")}}}]).directive("bbModalFooterButtonCancel",["bbResources",function(a){return{replace:!0,transclude:!0,require:"^bbModalFooter",restrict:"E",templateUrl:"sky/templates/modal/modalfooterbuttoncancel.html",link:function(b,c){0===c.children().length&&c.append("<span>"+a.modal_footer_cancel_button+"</span>")}}}])}(jQuery),function(a){"use strict";function b(a){angular.module("sky.moment",[]).constant("bbMoment",a)}"function"==typeof a.define&&a.define.amd?a.define(["moment"],b):b(void 0!==a.module&&a.module&&a.module.exports?a.require("moment"):a.moment)}(this),function(){"use strict";angular.module("sky.money",[]).constant("bbMoneyConfig",{currencyPositivePattern:"$n",currencyDecimalDigits:2,currencyDecimalSeparator:".",currencyGroupSize:3,currencyGroupSeparator:",",currencySymbol:"$"}).directive("bbMoneyInput",["$timeout","bbMoneyConfig",function(a,b){return{restrict:"A",scope:{numericValue:"=bbMoneyInput"},link:function(c,d){var e,f=b.currencySymbol;switch(b.currencyPositivePattern){case 0:e="p";break;case 1:e="s";break;case 2:e="p",f+=" ";break;case 3:e="s",f=" "+f}d.autoNumeric({aSep:b.currencyGroupSeparator,dGroup:b.currencyGroupSize,aDec:b.currencyDecimalSeparator,aSign:f,pSign:e,mDec:b.currencyDecimalDigits}),d.change(function(){var a=parseFloat(d.autoNumeric("get"));c.numericValue=a,c.$apply()}),d.on("focus.bbMoneyInput",function(){a(function(){d.select()})}),c.$watch("numericValue",function(a,b){a!==b&&(void 0!==a&&null!==a?d.autoNumeric("set",a):d.val(null))})}}}])}(),function(a){"use strict";function b(b,c){a(b)[c+"Class"]("open")}angular.module("sky.navbar",[]).directive("bbNavbar",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"sky/templates/navbar/navbar.html",link:function(c,d){a(d).on("mouseenter",".dropdown",function(){b(this,"add")}).on("mouseleave",".dropdown",function(){b(this,"remove")}).on("click",".dropdown-menu a",function(){b(a(".dropdown",d),"remove")})}}})}(jQuery),function(a){"use strict";angular.module("sky.omnibar",[]).constant("bbOmnibarConfig",{appLookupUrl:"",enableHelp:!1,enableSearch:!1,productId:"Sky",searchPlaceholder:"Search",serviceName:"Sky",signOutUrl:"",tenantId:"",url:"//signin.blackbaud.com/omnibar.js"}).directive("bbOmnibar",["$window","bbOmnibarConfig",function(b,c){return{transclude:!0,template:'<div class="bb-omnibar-wrap"></div><div class="bb-omnibar-menu-wrap" ng-transclude></div>',link:function(d,e){function f(){var b,f=h.find(".searchbox"),g=h.find(".searchContainer");
e.children(".bb-omnibar-menu-wrap").remove(),0===h.find(".mobile .productmenucontainer").length&&a(".bb-navbar").addClass("bb-navbar-showmobile"),f.attr("placeholder",c.searchPlaceholder),d.searchBox=f,f.on("keyup",function(a){var c=f.val();c!==b&&(b=c,d.searchText=c,d.$apply()),d.$emit("searchBoxKeyUp",a.keyCode)}),d.$watch("searching",function(a){a?g.addClass("searching"):g.removeClass("searching")}),d.$watch("searchText",function(a){a=a||"",a!==f.val()&&(b=a,f.val(a))}),d.$apply()}function g(a){if(a.id!==c.authenticationUserId&&c.signOutUrl){if(null===a.id){if(!b.localStorage)return;var d=b.localStorage.omnibarIndicatesNullUserTime;if(d&&(new Date-Date.parse(d))/1e3<=10)return;try{b.localStorage.omnibarIndicatesNullUserTime=(new Date).toString()}catch(e){return}}b.location.href=c.signOutUrl}}var h=e.children(".bb-omnibar-wrap"),i=e.find(".bb-omnibar-menu-wrap .bb-omnibar-menu");a.ajax({cache:!0,dataType:"script",url:c.url}).done(function(){var a=angular.extend(c,{afterLoad:f,userLoaded:g,menuEl:i});b.BBAUTH.Omnibar.load(h,a)})}}}]).directive("bbOmnibarMenu",function(){return{replace:!0,require:"^bbOmnibar",restrict:"E",transclude:!0,template:'<div class="bb-omnibar-menu" ng-transclude></div>'}})}(jQuery),function(){"use strict";angular.module("sky.page",[]).constant("bbPageConfig",{redirectUrl:null,notFoundUrl:null}).factory("bbPage",[function(){var a;return a={LOADING:0,LOADED:1,NOT_AUTHORIZED:2,NOT_FOUND:4},{pageStatuses:a}}]).directive("bbPage",["$window","bbResources","bbPage","bbPageConfig","bbData","$location",function(a,b,c,d,e,f){function g(g,h){function i(){a.location.href=d.redirectUrl||a.location.origin}function j(){return void 0===h.attr("bb-page-status")}function k(){g.bbPageUsesLoadManager&&(l=m.loadManager=e.loadManager({scope:g,waitForFirstItem:!0,nonblockWaitForAdditionalItems:!0,isAggregate:!0}))}var l,m;m=g.locals={navigateAway:i,noPageStatusSpecified:j,pageStatuses:c.pageStatuses,onShowing:k},g.resources=b,g.$watch("bbPageStatus",function(a,b){g.value="something",g.oldValue=b,a?a&&!b&&g.$emit("bbEndWait"):g.$emit("bbBeginWait"),a===m.pageStatuses.NOT_AUTHORIZED?l&&l.cancelWaiting():a===m.pageStatuses.NOT_FOUND&&(l&&l.cancelWaiting(),f.path(d.notFoundUrl).replace())})}return{restrict:"E",scope:{bbPageStatus:"=?",bbPageUsesLoadManager:"@?"},templateUrl:"sky/templates/page/page.html",transclude:!0,link:g}}])}(),function(){"use strict";var a=0;angular.module("sky.pagination",["ui.bootstrap.pagination"]).config(["paginationConfig",function(a){a.maxSize=4,a.itemsPerPage=5,a.nextText=a.previousText=""}]).factory("bbPaging",function(){return{init:function(a,b){function c(){var b,c;!d.disabled&&a&&(c=d.currentPage-1,b=c*d.itemsPerPage,d.items=a.slice(b,b+d.itemsPerPage))}var d;return d={currentPage:1,itemsPerPage:5,totalItems:a?a.length:0,pageChanged:c},angular.extend(d,b),c(),d}}}).directive("bbPagination",function(){return{restrict:"A",scope:{paginationDisabled:"=bbPaginationDisabled"},compile:function(a,b){var c=b.bbPagination;return a.html('<pagination ng-show="'+c+".totalItems > "+c+'.itemsPerPage" total-items="'+c+'.totalItems" ng-model="'+c+'.currentPage" ng-change="'+c+'.pageChanged()" items-per-page="'+c+'.itemsPerPage"></pagination><div class="clearfix"></div>'),function(a,b){a.$watch("paginationDisabled",function(a){var c,d;angular.isDefined(a)&&(d=b.find(".pagination"),a?(c=d.clone().addClass("bb-pagination-dummy"),d.before(c).hide(),c.find("li").addClass("disabled")):(b.find(".bb-pagination-dummy").remove(),d.show()))})}}}}).directive("bbPaginationContent",["$timeout","$window",function(b,c){return{link:function(d,e){function f(){angular.element(c).off("."+g)}var g;a+=1,g="bbPaginationContent"+a,d.$watch("pagedData",function(){function a(){b(function(){function b(a){i.currentPage=a,i.pageChanged(),d.$apply()}var c,f,g=e.height(),j=0;if(0===g&&5>k)return k+=1,void a();for(e.addClass("bb-pagination-content bb-pagination-content-calculating"),c=i.currentPage,e.css("min-height",0),f=1;h>=f;f+=1)b(f),j=Math.max(e.height(),j);e.css("min-height",j),b(c),e.removeClass("bb-pagination-content-calculating")},200)}var h,i,j,k=0;i=d.pagedData,angular.isDefined(d.pagedData)&&(h=Math.ceil(i.totalItems/(i.itemsPerPage||1)),h>1&&(a(),f(),angular.element(c).on("resize."+g,function(){j&&b.cancel(j),j=b(a,500)}),e.on("$destroy",f)))})},scope:{pagedData:"=bbPaginationContent"}}}])}(),function(a){"use strict";angular.module("sky.popover",["sky.data"]).directive("bbPopoverTemplatePopup",["$templateCache","$compile","$timeout","$window",function(b,c,d,e){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"sky/templates/popover/popup.html",compile:function(){return function(f,g){function h(){g&&(g.remove(),g=null),l&&(l.$destroy(),l=null)}function i(a){g.is(a.target)||0!==g.has(a.target).length||f.$apply(function(){l.hide()})}var j,k,l,m,n=b.get(f.content),o=a(e);m=f.$parent.$parent,k=m.$parent,l=k.$new(),l.hide=function(){f.$parent.$parent.isOpen=!1,d(h,500)},f.$watch("isOpen()",function(a){a?d(function(){o.on("click",i)}):o.off("click",i)}),j=c(n)(l),g.find(".popover-content").html(j),l.$apply()}}}}]).directive("bbPopoverTemplate",["$tooltip",function(a){return a("bbPopoverTemplate","popover","click")}])}(jQuery),function(){"use strict";function a(a){return function(b){return a[b]}}var b=[];a.$inject=["bbResources"],angular.module("sky.resources",b).constant("bbResources",{}).filter("bbResources",a)}(),function(){"use strict";var a="bb-scroll-into-view-highlighting",b=100,c=10;angular.module("sky.scrollintoview",[]).constant("bbScrollIntoViewConfig",{reservedBottom:0,reservedTop:0}).factory("bbScrollIntoView",["$window","bbScrollIntoViewConfig",function(b,c){function d(b,c){c.highlight&&b.addClass(a).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b.removeClass(a)})}function e(a){for(var b,c=a.parent();c.length>0;){if(c.is("body"))return c;if(b=c.css("overflow-y"),angular.isString(b))switch(b.toUpperCase()){case"AUTO":case"HIDDEN":case"SCROLL":return c}c=c.parent()}}function f(){return angular.element("html").scrollTop()||angular.element("body").scrollTop()}function g(a,b){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;p=e(a),q=p.is("body"),b=b||{},s=b.reservedBottom,t=b.reservedTop,angular.isDefined(s)||(s=0,q&&(s=c.reservedBottom||0)),angular.isDefined(t)||(t=0,q&&(t=c.reservedTop||0)),b.highlight&&(s+=50,t+=50),g=q?f():p.scrollTop(),j=a.offset(),i=a.outerHeight(),k=j.top,q||(k=k-p.offset().top+g),h=k+i,r=q?angular.element(window).height():p.height(),m=h>r+(g-s),n=g+t>k,m||n?(m&&(o=h-(r-s)),u=r-(t+s),(!m||i>u)&&(o=k-t),l=q?angular.element("html, body"):p,l.animate({scrollTop:Math.round(o)},{duration:250,always:function(){d(a,b)}})):d(a,b)}return g}]).directive("bbScrollIntoView",["$timeout","bbScrollIntoViewConfig","bbScrollIntoView",function(a,d,e){function f(f,g,h){function i(m){k&&a.cancel(k),m&&(l=0),g.is(":visible")&&0===g.children(".collapsing").length?(j=angular.extend({},d),h.bbScrollIntoViewHighlight&&(j.highlight=f.$eval(h.bbScrollIntoViewHighlight)),e(g,j)):c>l&&(l++,k=a(i,b))}var j,k,l;h.bbScrollIntoView&&f.$watch(h.bbScrollIntoView,function(a,b){a&&a!==b&&i(!0)})}return{link:f,restrict:"A"}}])}(),function(a){"use strict";angular.module("sky.searchfield",["sky.resources"]).directive("uiSelectMatch",["$timeout",function(b){return{restrict:"EA",replace:!1,require:"^uiSelect",link:function(c,d,e,f){function g(){function a(a){var b=a>0;return b&&(a-=a-angular.element(h).width(),j.find(".ui-select-match-item").css({overflow:"hidden",textOverflow:"ellipsis",maxWidth:a})),b}b(function(){a(h.offsetWidth)})}var h,i,j,k;f.multiple&&(j=d,h=j.parent().parent()[0],i=f.sizeSearchInput,f.sizeSearchInput=function(){i(),g()},g(),a(window).on("resize.searchField"+c.$id,function(){b.cancel(k),k=b(function(){g()},250)}),c.$on("$destroy",function(){a(window).off("resize.searchField"+c.$id)}))}}}]).directive("uiSelectChoices",["bbResources",function(a){return{restrict:"EA",replace:!1,require:"^uiSelect",link:function(b,c,d,e){function f(b){var c;j&&(j.remove(),j=null),h&&0===e.items.length&&(c=b?a.searchfield_searching:a.searchfield_no_records,j=angular.element('<ul class="ui-select-choices ui-select-choices-content dropdown-menu"><li class="bb-searchfield-no-records">'+c+"</li></ul>"),i.append(j))}function g(){h=!1,e.items=[],f()}var h,i,j;d.refresh&&(i=angular.element(c).parent(),h=!1,b.$watch("$select.open",function(){g()}),b.$watchCollection("$select.items",function(){f()}),b.$on("bbSearchFinished",function(){f()}),b.$watch("$select.search",function(a){h=a&&a.length>0,h?f(!0):g()}))}}}])}(jQuery),function(){"use strict";function a(a,b){var c;return b&&(c=' data-bbauto-field="'+b+'"'),'<li><a href="#'+a+'"'+c+"></a></li>"}function b(){return'<div class="rt-tab-accordion-header"></div>'}function c(a,b){var c=angular.element(a).wrap('<div id="'+b+'"></div>');return c.append('<div class="clearfix"></div>'),angular.element("#"+b)}function d(a,b){var c='<div><span class="bb-tab-header-title-responsive">'+(b||"")+'</span><span class="bb-tab-header-count-responsive">'+(a>=0?a:"")+'</span><div class="bb-tab-header-chervon-responsive glyphicon glyphicon-chevron-down"></div><div class="bb-tab-header-chervon-responsive glyphicon glyphicon-chevron-up"></div></div>';return c}function e(a,b){var c='<div><span class="bb-tab-header-title">'+(b||"")+'</span><span class="bb-tab-header-count">'+(a>=0?a:"")+"</span></div>";return c}var f=0;angular.module("sky.tabs",[]).directive("bbTab",["$state","$rootScope","$timeout",function(g,h,i){return{replace:!0,transclude:!0,restrict:"E",templateUrl:"sky/templates/tabs/tab.html",scope:{bbTabAutomationId:"=",bbTabOptions:"="},controller:["$scope",function(a){a.tabGroups=[],a.tabsInitialized=!1,this.addTabGroup=function(b){a.tabGroups.push(b)},this.updateTabItemHeader=function(b){a.updateTabItemHeader(b)}}],link:function(j,k){function l(){var a,b,c,d,e=j.tabGroups;for(a=0;a<e.length;a++)for(c=e[a],b=0;b<c.tabs.length;b++)if(d=c.tabs[b],d.sref&&g.is(d.sref))return d.index-1}function m(){var d,e,g,h,i,l=0,m=j.tabGroups,n=k.find("ul:first");for(d=k.find("bb-tab-group-item > div"),e=0;e<m.length;e++){for(h=m[e],k.append(b()),g=0;g<h.tabs.length;g++)i=h.tabs[g],i.index=++x,i.id="bb-tab-id-"+ ++f,n.append(a(i.id,i.automationId)),k.append(c(d[l],i.id)),l+=1;n.append('<li class="rt-tab-spacer"></li>'),k.append('<div class="rt-tab-accordion-spacer"></div>')}k.find("bb-tab-group").remove()}function n(){if(w){var a,b,c,d,e,f,h=w.selector.substring(1),k=j.tabGroups;for(b=0;b<k.length;b++)for(e=k[b],c=0;c<e.tabs.length;c++)f=e.tabs[c],f.id===h&&(a=f);a&&(d=a.sref,d&&(g.is(d)||i(function(){g.go(d)},0)))}}function o(a,b){w=b,n()}function p(a,b){b.oldState!==b.newState&&n()}function q(){var a,b,c;a={active:l()||0,collapsible:"accordion",rotate:!1,startCollapsed:!1},c=j.bbTabOptions||a,b={activate:o,activateState:p},c=angular.extend({},c,b),k.responsiveTabs(c)}function r(){var a,b,c,d;for(a=0;a<j.tabGroups.length;a++)for(c=j.tabGroups[a],b=0;b<c.tabs.length;b++)if(d=c.tabs[b],!angular.isDefined(d.header)||null===d.header)return!1;return!0}function s(a,b){var c,f=a;f&&(c=angular.element("a[href=#"+b.id+"]"),c[0]&&angular.element(c[0]).html(e(f.headerCount,f.headerTitle)),c[1]&&angular.element(c[1]).html(d(f.headerCount,f.headerTitle))),j.tabsInitialized=r()}function t(){var a,b,c,d,e;for(b=0;b<j.tabGroups.length;b++)for(d=j.tabGroups[b],c=0;c<d.tabs.length;c++)e=d.tabs[c],a={id:e.id},angular.isDefined(e.header)&&null!==e.header&&(angular.isString(e.header)?s({headerTitle:e.header},a):s({headerTitle:e.header.headerTitle,headerCount:e.header.headerCount},a))}function u(){q(k[0],j.bbTabOptions),t()}var v,w=null,x=0;m(),u(),v=h.$on("$stateChangeSuccess",function(){var a=l();a>=0&&w&&a!==w.id&&k.responsiveTabs("activate",a)}),j.updateTabItemHeader=function(a){var b;b=angular.isString(a.header)?{headerTitle:a.header}:{headerTitle:a.header.headerTitle,headerCount:a.header.headerCount},s(b,{id:a.id})},j.$on("$destroy",function(){v(),k.responsiveTabs("destroy")})}}}]).directive("bbTabGroup",function(){return{require:"^bbTab",restrict:"E",scope:{},controller:["$scope",function(a){a.tabGroupItems=[],this.addTabGroupItem=function(b){a.tabGroupItems.push(b)},this.updateTabItemHeader=function(b){a.tabCtrl.updateTabItemHeader(b)}}],link:function(a,b,c,d){a.tabCtrl=d,d.addTabGroup({tabs:a.tabGroupItems})}}}).directive("bbTabGroupItem",function(){return{require:"^bbTabGroup",restrict:"E",transclude:!0,scope:{bbTabItemHeaderFunction:"&",bbTabItemHeader:"=",bbTabItemCount:"=",bbTabItemSref:"=",bbTabItemAutomationId:"="},link:function(a,b,c,d){var e={header:a.bbTabItemHeader,sref:a.bbTabItemSref,automationId:a.bbTabItemAutomationId,id:null};d.addTabGroupItem(e),a.$watch("bbTabItemHeader",function(a){angular.isDefined(a)&&null!==a&&(e.header=a,d.updateTabItemHeader(e))},!0)},template:"<div ng-transclude></div>"}})}(),function(a){"use strict";var b=0;angular.module("sky.tabscroll",["ui.bootstrap.tabs"]).directive("bbTabScroll",["$timeout","$window",function(c,d){return{require:"tabset",link:function(e,f,g){function h(){return f.children(".nav-tabs")}function i(a,b){var c,d,e,g,h,i;return e=angular.isString(b)?a.children(b):b,h=e.position(),h&&(g=h.left,0>g?d=g+a[0].scrollLeft:(c=f.width(),i=g+e.width(),i>c&&(d=a[0].scrollLeft+(i-c)))),d}function j(a){return i(a,".active")||0}function k(a){a.stop(!0,!0)}function l(a,b,c){k(a),a.animate({scrollLeft:b},{duration:c||500})}function m(a){var b,c,d,e=h();e.length>0&&(b=angular.isDefined(i(e,"li:first"))||angular.isDefined(i(e,"li:last")),a=a||angular.isDefined(i(e,".active")),c=!m.previousHadOverflow&&b,(a||c)&&(d=j(e),k(e),c&&e.scrollLeft(e[0].scrollWidth-f.width()),l(e,d))),m.previousHadOverflow=b}var n,o;b++,f.addClass("bb-tab-scroll"),g.bbTabScrollReady&&e.$watch(g.bbTabScrollReady,function(a,b){a&&a!==b&&m(!0)}),o=a(d).width(),a(d).on("resize.tabscroll"+b,function(){var b=a(d).width();o!==b&&(c.cancel(n),n=c(function(){m()},250)),o=b}),f.on("click","> .nav-tabs > li",function(){var b,c;b=h(),c=i(b,a(this)),angular.isDefined(c)&&l(b,c,250)}),f.on("$destroy",function(){a(d).off(".tabscroll"+b)})}}}])}(jQuery),function(){"use strict";angular.module("sky.tabsref",["ui.bootstrap.tabs"]).directive("bbTabSref",["$rootScope","$state","$timeout",function(a,b,c){return{require:["^tabset","tab"],link:function(d,e,f,g){function h(){b.is(k)&&l.select(e.isolateScope())}var i,j=f.active,k=f.bbTabSref,l=g[0];j&&k&&(h(),i=a.$on("$stateChangeSuccess",function(){h()}),d.$watch(j,function(a){a&&!b.is(k)&&c(function(){b.go(k)},0)}),d.$on("$destroy",function(){i()}))}}}])}(),function(){"use strict";function a(a){return"bb-template-item-"+a}function b(b,c){var d,e;for(d=0,e=c.length;e>d;d++)c[d].appendTo(b.find("."+a(d)))}var c="bb-template-result";angular.module("sky.templating",["sky.format"]).directive("bbTemplate",["bbFormat",function(d){function e(b){return b=d.escape(b),b.replace(/\{(\d+)\}/g,function(b,c){return'<span class="'+a(c)+'"></span>'})}return{controller:["$scope",function(a){a.items=[],this.addItem=function(b){a.items.push(b)}}],link:function(a,d){a.$watch("template",function(f){var g,h,i=d.find("."+c);angular.isDefined(f)&&(h=e(f),g=angular.element('<span class="'+c+'">'+h+"</span>").appendTo(d),b(g,a.items),i.remove())})},scope:{template:"=bbTemplate"},restrict:"A"}}]).directive("bbTemplateItem",function(){return{link:function(a,b,c,d){d.addItem(b)},require:"^bbTemplate",restrict:"AE"}})}(),function(){"use strict";function a(a){var b=a.match(/\n/gi);return b?b.length:0}var b=["sky.resources","sky.scrollintoview"];angular.module("sky.textexpand",b).directive("bbTextExpandRepeater",["bbResources",function(a){function b(b,c,d){b.$watch(d.bbTextExpandRepeaterData,function(b){var e,f,g,h=a.text_expand_see_more,i=a.text_expand_see_less;b&&(e=b.length,f=+d.bbTextExpandRepeaterMax,g=angular.element('<a class="bb-text-expand-see-more">'+h+"</a>"),e>f&&c.find("li:gt("+(f-1)+")").addClass("bb-text-expand-toggle-li").hide().end().append(g.click(function(){g.siblings(".bb-text-expand-toggle-li").toggle(100),g.hasClass("bb-text-expand-see-more")?g.text(i):g.text(h),g.toggleClass("bb-text-expand-see-more")})))})}return{link:b}}]).directive("bbTextExpand",["bbResources","bbScrollIntoView",function(b,c){function d(d,e,f){function g(b,c,d){var e;for(d&&a(b)>=d&&(b=b.replace(/\s+/gi," ")),e=c;e>c-10;e--)if(/\s/.test(b.charAt(e))){c=e;break}return b.substr(0,c)}var h,i=+f.bbTextExpandMaxLength||200,j=+f.bbTextExpandMaxExpandedLength||6500,k=1,l=50;d.$watch(f.bbTextExpand,function(a){function d(a,b,c,d){o=n.height(),q.text(c),s.text(b),r=n.height(),o>r&&s.text(a),p.text(d?"...":""),n.height(o).animate({height:r},250,function(){o>r&&s.text(b),n.css("height","auto")})}var f,m,n,o,p,q,r,s,t;n=angular.element("<div></div>"),a&&(f=g(a,i,k),m=g(a,j,l),f!==a?(h=!0,s=angular.element('<span class="bb-text-expand-text"></span>'),s.text(f),p=angular.element('<span class="bb-text-expand-ellipsis">...</span>'),t=angular.element('<span class="bb-text-expand-space"> </span>'),q=angular.element('<a href="#" class="bb-text-expand-see-more"></a>'),q.text(b.text_expand_see_more),n.empty().append(s).append(p).append(t).append(q),q.on("click",function(){return h?d(f,m,b.text_expand_see_less,m!==a):d(m,f,b.text_expand_see_more,!0),c(q),h=!h,!1})):n.text(a)),e.empty().append(n),e.on("$destroy",function(){n=null,q=null,s=null,t=null})})}return{link:d}}])}(),function(){"use strict";function a(a,b,c){angular.forEach(c,function(c){var d=a.find('[data-tile-id="'+c+'"]');b.append(d)})}function b(a){var b=[];return a.find("[data-tile-id]").each(function(){b.push(angular.element(this).data("tile-id"))}),b}angular.module("sky.tiles",["sky.mediabreakpoints"]).directive("bbTile",["$timeout",function(a){return{link:function(b,c,d,e){function f(a,c){var d,e,f=c.length;for(d=0;f>d;d++)if(e=c[d],e.id===a)return b.smallTileDisplayMode?e.collapsed_small:e.collapsed;return!!b.smallTileDisplayMode}function g(d){var e,g;d=d||[],g=b.isCollapsed,e=f(b.tileId,d),g===e&&(l=!1),b.isCollapsed=e,e&&!m&&a(function(){var a;a=c.find(".bb-tile-content"),a.removeClass("collapsing").addClass("collapse")},1)}function h(){var a;b.hasHeaderContent=!!b.headerContentEl,b.headerContentEl&&(a=c.find(".bb-tile-header-with-content:first"),a.append(b.headerContentEl))}function i(a){var d=a.tiles||[];m||(b.tileId=c.parent().attr("data-tile-id")||"",b.smallTileDisplayMode=a.smallTileDisplayMode||!1),g(d),m=!0}var j,k={},l=!1,m=!1;b.isCollapsed=b.bbTileCollapsed||!1,b.smallTileDisplayMode=!1,b.tileId="",j=c.parents("div.modal-body"),j&&j.length>0&&j.addClass("modal-body-tiled"),b.titleClick=function(){b.isCollapsed=!b.isCollapsed,b.scrollIntoView=!b.isCollapsed},b.$on("tileDisplayModeChanged",function(a,c){b.smallTileDisplayMode=c.smallTileDisplayMode||!1,m&&(l=!0,g(c.tiles))}),b.$on("tilesInitialized",function(a,b){i(b)}),b.$watch("isCollapsed",function(){m&&!l&&a(function(){b.$emit("tileStateChanged",{tileId:b.tileId,collapsed:b.isCollapsed})}),l=!1,b.isCollapsed||a(function(){b.$broadcast("tileRepaint")}),b.bbTileCollapsed=b.isCollapsed}),d.bbTileCollapsed&&b.$watch("bbTileCollapsed",function(a){b.isCollapsed=a}),b.hasSettings=!!d.bbTileSettingsClick,h(),null!==e&&(k=e.getDashboardState(),i(k))},replace:!0,restrict:"E",require:"?^^bbTileDashboard",scope:{bbTileCollapsed:"=?",bbTileSettingsClick:"&?",tileHeader:"=bbTileHeader"},controller:["$scope",function(a){this.setHeaderContentEl=function(b){a.headerContentEl=b}}],templateUrl:"sky/templates/tiles/tile.html",transclude:!0}}]).directive("bbTileHeaderContent",function(){return{replace:!0,require:"^bbTile",restrict:"E",link:function(a,b,c,d){d.setHeaderContentEl(b)},templateUrl:"sky/templates/tiles/tileheadercontent.html",transclude:!0}}).directive("bbTileHeaderCheck",function(){return{replace:!0,require:"^bbTileHeaderContent",restrict:"E",templateUrl:"sky/templates/tiles/tileheadercheck.html"}}).directive("bbTileSection",function(){return{restrict:"A",template:function(a){a.addClass("bb-tile-content-section")}}}).directive("bbTileDashboard",["$timeout","bbMediaBreakpoints",function(c,d){return{replace:!0,restrict:"E",scope:{tiles:"=bbTiles",layout:"=bbLayout",allCollapsed:"=bbTileDashboardAllCollapsed"},link:function(e,f,g){function h(){e.$apply(function(){var a=e.layout;o?a.one_column_layout=b(m):(a.two_column_layout[0]=b(m),a.two_column_layout[1]=b(n))})}function i(){var b=e.layout;b&&(o?a(f,m,b.one_column_layout):(a(f,m,b.two_column_layout[0]),a(f,n,b.two_column_layout[1])))}function j(){e.$broadcast("tileDisplayModeChanged",{smallTileDisplayMode:e.smallTileDisplayMode,tiles:e.tiles})}function k(a){o=a.xs||a.sm,i(),o?(f.removeClass("bb-page-content-multicolumn"),n.hide()):(f.addClass("bb-page-content-multicolumn"),n.show()),e.smallTileDisplayMode=a.xs,j()}var l,m=f.find('[data-dashboard-column="1"]'),n=f.find('[data-dashboard-column="2"]'),o=!1;e.smallTileDisplayMode=!1,l={connectWith:"[data-dashboard-column]",update:h,opacity:.8,handle:".bb-tile-grab-handle",placeholder:"placeholder ibox",forcePlaceholderSize:!0,revert:250},m.sortable(l),n.sortable(l),d.register(k),f.on("$destroy",function(){d.unregister(k)}),e.$watch("tiles",function(){c(function(){i(),e.$broadcast("tilesInitialized",{smallTileDisplayMode:e.smallTileDisplayMode,tiles:e.tiles})})}),e.$watch("allCollapsed",function(a){var b,c,d=e.tiles;if(a===!0||a===!1){for(b=0,c=d.length;c>b;b++)e.smallTileDisplayMode?d[b].collapsed_small=a:d[b].collapsed=a;j()}}),e.$on("tileStateChanged",function(a,b){e.$apply(function(){var a,c,d,f,h,i=null,j=b.tileId||"",k=e.tiles;for(a=b.collapsed||!1,c=e.smallTileDisplayMode?"collapsed_small":"collapsed",d=0,f=k.length;f>d;d++)h=k[d],h.id===j&&(h[c]=a),i=d>0&&h[c]!==i?null:h[c];g.bbTileDashboardAllCollapsed&&(e.allCollapsed=i)})})},controller:["$scope",function(a){this.getDashboardState=function(){return{tiles:a.tiles,smallTileDisplayMode:a.smallTileDisplayMode}}}],templateUrl:"sky/templates/tiles/tiledashboard.html"}}])}(),function(){"use strict";function a(){return a.index=a.index||0,a.index++,"bbtoast-"+a.index}function b(a){if(a.message&&a.templateUrl)throw"You must not provide both a message and a templateUrl.";if(!a.message&&!a.templateUrl)throw"You must provide either a message or a templateUrl."}angular.module("sky.toast",["toastr"]).config(["toastrConfig",function(a){angular.extend(a,{closeButton:!0,newestOnTop:!0,positionClass:"toast-bottom-right",tapToDismiss:!1,timeOut:6e3})}]).factory("bbToast",["toastr","$templateCache","$compile","$controller","$rootScope","$q","$injector",function(c,d,e,f,g,h,i){function j(a){var b=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&b.push(h.when(i.invoke(a)))}),b}function k(a,b){return b=b||{},b.iconClass="bb-toast",c.info(a,"",b)}function l(a){return k(a.message)}function m(b){function c(){var a=o.el.find("#"+l);a.html(n),q&&(f(q,i),e(a)(i.$scope))}var i,l,m,n,o,p,q=b.controller,r=0;b.resolve=b.resolve||{},m=h.all(j(b.resolve)),m.then(function(e){q&&(i={},i.$scope=g.$new(),angular.forEach(b.resolve,function(a,b){i[b]=e[r++]})),n=d.get(b.templateUrl),l=a(),o=k("<div id='"+l+"'></div>",{allowHtml:!0}),p=o.scope,p.$watch("init",function(){p.$evalAsync(function(){c()})})})}return{open:function(a){a=a||{},b(a),a.templateUrl?m(a):l(a)}}}])}(),function(){"use strict";function a(a,b,c){return{restrict:"A",scope:!0,compile:function(d){return d.attr("tooltip-html-unsafe")||d.attr("tooltip-html-unsafe","{{tooltip}}"),function(d,e,f){function g(){c.load({text:f.bbTooltip}).then(function(c){var e=angular.element("<div></div>"),f=c.text;e.html(a(f.trim())(d)),b(function(){d.tooltip=e.html()})})}e.removeAttr("bb-tooltip"),a(e)(d),angular.isDefined(f.tooltipUpdater)?d.$watch(f.tooltipUpdater,function(){g()}):g()}}}}a.$inject=["$compile","$timeout","bbData"],angular.module("sky.tooltip",["sky.data"]).directive("bbTooltip",a)}(),function(){"use strict";angular.module("sky.validation",[]).directive("bbEmailValidation",[function(){var a=/[\w\-]+@([\w\-]+\.)+[\w\-]+/;return{require:"ngModel",restrict:"",link:function(b,c,d,e){e&&e.$validators.email&&(e.$validators.email=function(b){return e.$isEmpty(b)||a.test(b)})}}}])}(),function(){"use strict";function a(){return a.index=a.index||0,a.index++,"viewkeeper-"+a.index}function b(a){return a.id+"-spacer"}function c(a,b,c,d,e){a.css({top:c,bottom:d,left:b}),null!==e&&a.css({width:e})}function d(a){var d,e=angular.element(a.el);angular.element("#"+b(a)).remove(),e.removeClass(g),a.currentElFixedLeft=null,a.currentElFixedTop=null,a.currentElFixedBottom=null,a.currentElFixedWidth=null,a.setWidth&&(d="auto"),c(e,"","","",d)}function e(a){var b,c;return b=a.verticalOffSet,a.verticalOffSetEl&&(c=a.verticalOffSetEl.css("top"),c&&(c=parseInt(c,10),isNaN(c)&&(c=0)),b+=a.verticalOffSetEl.outerHeight()+c),b}var f,g="bb-viewkeeper-fixed",h={viewportMarginTop:0};f=function(b){var c,d=this;b=b||{},d.fixToBottom=b.fixToBottom,d.setWidth=b.setWidth,d.id=c=a(),d.el=b.el,d.boundaryEl=b.boundaryEl,d.verticalOffSet=b.verticalOffSet||0,d.setPlaceholderHeight=b.setPlaceholderHeight!==!1,d.onStateChanged=b.onStateChanged,d.isFixed=!1,b.verticalOffSetElId&&(d.verticalOffSetEl=angular.element("#"+b.verticalOffSetElId),d.verticalOffSetEl.on("afterViewKeeperSync."+c,function(){d.syncElPosition()})),angular.element(window).on("scroll."+c+", resize."+c+", orientationchange."+c,function(){d.syncElPosition()})},f.prototype={syncElPosition:function(){var a,f,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=this;i=H.isFixed,F=e(H),y=angular.element(H.el),y.is(":visible")&&(r=angular.element(H.boundaryEl),D=b(H),E=angular.element("#"+D),n=angular.element(window.document),q=r.offset(),s=q.top,p=s+r.height(),A=n.scrollLeft(),B=n.scrollTop(),x=y.outerHeight(!0),H.fixToBottom?v=0:u=Math.min(p-x-B,F),w=r.width(),t=q.left-A,j=H.currentElFixedLeft,k=H.currentElFixedTop,l=H.currentElFixedBottom,m=H.currentElFixedWidth,E.length>0?(a=E.offset().top,f=E.outerHeight(!0)):(a=y.offset().top,f=x),o=H.fixToBottom?a+f>B+window.innerHeight:B+F+h.viewportMarginTop>a,z=o&&j===t&&k===u&&l===v&&m===w||!o&&(void 0===j||null===j)?!1:!0,z&&(o?(H.isFixed=!0,0===E.length&&(C=H.setPlaceholderHeight?x:0,y.after('<div id="'+D+'" style="height: '+C+'px;"></div>')),y.addClass(g),H.currentElFixedTop=u,H.currentElFixedBottom=v,H.currentElFixedLeft=t,H.currentElFixedWidth=w,H.setWidth&&(G=w),c(y,t,u,v,G)):(H.isFixed=!1,d(H)),H.onStateChanged&&i!==H.isFixed&&H.onStateChanged()),y.trigger("afterViewKeeperSync"))},scrollToTop:function(){var a,c,d,f,g,i,j=this;i=e(j),d=angular.element(window.document),f=b(j),g=angular.element("#"+f),c=angular.element(j.el),a=g.length>0?g.offset().top:c.offset().top,d.scrollTop(a-i-h.viewportMarginTop)},destroy:function(){var a,b=this;b.isDestroyed||(a=b.id,angular.element(window).off("scroll."+a+", resize."+a+", orientationchange."+a),d(b),b.verticalOffSetEl&&(b.verticalOffSetEl.off("afterViewKeeperSync."+b.id),b.verticalOffSetEl=null),b.isDestroyed=!0)}},angular.module("sky.viewkeeper",["sky.mediabreakpoints"]).constant("bbViewKeeperConfig",h).factory("bbViewKeeperBuilder",function(){return{create:function(a){return new f(a)}}}).run(["$document","$window","bbMediaBreakpoints","bbViewKeeperConfig",function(a,b,c,d){function e(a){d.viewportMarginTop=a.xs?50:30}/iPad|iPod|iPhone/i.test(b.navigator.userAgent)?(angular.element("body").addClass("omnibar-not-fixed"),angular.element(document).on("focus","input",function(){angular.element("body").addClass("bb-viewkeeper-ignore-fixed")}).on("blur","input",function(){angular.element("body").removeClass("bb-viewkeeper-ignore-fixed")})):c.register(e)}]).directive("bbViewKeeper",["bbViewKeeperBuilder",function(a){function b(b,c){function d(){e&&(e.destroy(),e=null)}var e;c.on("$destroy",function(){d()}),b.$watch("bbBoundaryElId",function(){var f,g=b.bbBoundaryElId;g&&(f=angular.element("#"+g),1===f.length&&(d(),e=a.create({el:c[0],boundaryEl:f[0],setWidth:!0})))})}return{link:b,restrict:"A",scope:{bbBoundaryElId:"="}}}]).directive("bbScrollingViewKeeper",["$window",function(a){return{scope:{bbScrollingViewKeeper:"="},link:function(b,c){function d(){c.is(":visible")&&(i=angular.element(".bb-omnibar>.desktop").is(":visible")?angular.element(".bb-omnibar>.desktop>.bar").outerHeight():0,b.bbScrollingViewKeeper&&b.bbScrollingViewKeeper.viewKeeperOffsetElId&&(i+=angular.element("#"+b.bbScrollingViewKeeper.viewKeeperOffsetElId).outerHeight()),e||(e=c.offset().top),f=a.scrollY||a.pageYOffset||a.document.body.scrollTop||0,j=g>f?!1:!0,g=f,f>=e-i&&c.height()+i<=a.document.body.offsetHeight?c.height()+i<a.innerHeight?(h=0,c.removeClass("bb-grid-filters-fixed-bottom").addClass("bb-grid-filters-fixed-top"),c.css({top:i+"px"})):j?c.offset().top+c.height()>=f+a.innerHeight?(h||(h=c.offset().top-e),c.removeClass("bb-grid-filters-fixed-top bb-grid-filters-fixed-bottom"),c.css({top:h})):(h=0,c.css({top:""}),c.removeClass("bb-grid-filters-fixed-top").addClass("bb-grid-filters-fixed-bottom")):c.offset().top<f+i?(h||(h=c.offset().top-e),c.removeClass("bb-grid-filters-fixed-top bb-grid-filters-fixed-bottom "),c.css({top:h})):(h=0,c.removeClass("bb-grid-filters-fixed-bottom").addClass("bb-grid-filters-fixed-top"),c.css({top:i+"px"})):(h=0,c.removeClass("bb-grid-filters-fixed-top bb-grid-filters-fixed-bottom grid-filters-fixed-top grid-filters-fixed-bottom"),c.css({top:0})))}var e,f,g,h,i,j=!0,k=b.$id;/iPad|iPod|iPhone/i.test(a.navigator.userAgent)||(angular.element(a).on("scroll."+k+", orientationchange."+k,d),c.on("$destroy",function(){angular.element(a).off("scroll."+k+", orientationchange."+k)}))},restrict:"A"}}])}(),function(a){"use strict";angular.module("sky.wait",[]).factory("bbWait",["$timeout",function(b){function c(){return a&&a.blockUI}function d(b){return a(b)[0]===document.body}function e(b,c){var d=c?s:u;return parseInt(a(b).data(d)||0,10)}function f(b,c,d){var e=d?s:u;c?a(b).data(e,c):a(b).removeData(e)}function g(b,c){var d=angular.extend({},c),e=a(b).children(".bb-wait-nonblock");0===e.length&&(e=a("<div class='bb-wait-nonblock'></div>"),a(b).append(e),a(e).click(function(){e.hide()})),e.show(),d.nonblocking=!1,l(e[0],d)}function h(b,c){var d=angular.extend({},c),e=a(b).children(".bb-wait-nonblock");e.length>0&&(d.nonblocking=!1,m(e[0],d))}function i(e,f){function g(){i.data(t)&&(d(e)?a.blockUI(angular.extend({},p,h)):i.block(angular.extend({},q,h)))}var h,i=a(e);c()&&(i.data(t)||(f=angular.extend({},{visualBlockDelay:300},f||{}),h={fadeIn:f.fadeIn},i.data(t,!0),f.visualBlockDelay?(d(e)?a.blockUI(o):i.block(n),b(g,f.visualBlockDelay)):g()))}function j(f){b(function(){if(0===e(f)){var b=a(f);if(!c())return;d(f)?a.unblockUI():b.unblock(),a(f).removeData(t)}},0)}function k(a){f(a,0),j(a),f(a,0,!0),h(a)}var l,m,n,o,p,q,r=2e4,s="bb-wait-non-block-count",t="bb-wait-showingwait",u="bb-wait-count";return q={message:'<div class="bb-wait-wrap"><div class="bb-wait-spinner"></div></div>'},n={message:"",fadeOut:0,fadeIn:0,overlayCSS:{opacity:0}},o=angular.copy(n),o.overlayCSS["z-index"]=r,p=angular.copy(q),p.overlayCSS={"z-index":r},p.css={"z-index":r+1},l=function(a,b){b=b||{};var c=e(a,b.nonblocking);c+=1,f(a,c,b.nonblocking),1===c&&(b.nonblocking?g(a,b):i(a,b))},m=function(a,b){b=b||{};var c=e(a,b.nonblocking);c>0&&(c-=1,f(a,c,b.nonblocking),0===c&&(b.nonblocking?h(a,b):j(a,b)))},c()&&(a.blockUI.defaults.css={},a.blockUI.defaults.overlayCSS={}),{beginElWait:function(a,b){l(a,b)},beginPageWait:function(a){l(document.body,a)},clearElWait:function(a){k(a)},clearPageWait:function(){k(document.body)},endElWait:function(a,b){m(a,b)},endPageWait:function(a){m(document.body,a)}}}]).directive("bbWait",["bbWait",function(a){return{restrict:"A",link:function(b,c,d){var e=!0;b.$watch(d.bbWait,function(b,d){!b||d&&!e?d&&!b&&a.endElWait(c):a.beginElWait(c),e=!1})}}}])}(jQuery),function(){"use strict";angular.module("sky.window",[]).constant("bbWindowConfig",{productName:""}).factory("bbWindow",["$window","bbWindowConfig","$timeout","$document",function(a,b,c,d){
function e(){var a,b,c,e;return a=angular.element("<p></p>"),a.css("width","100%"),a.css("height","200px"),b=angular.element("<div></div>"),b.css("position","absolute"),b.css("top","0px"),b.css("left","0px"),b.css("visibility","hidden"),b.css("width","200px"),b.css("height","150px"),b.css("overflow","hidden"),b.append(a),d.find("body").append(b),c=a[0].offsetWidth,b.css("overflow","scroll"),e=a[0].offsetWidth,c===e&&(e=b[0].clientWidth),b.remove(),c-e}var f;return{setWindowTitle:function(d){var e=b.productName;e&&(d=d||"",d&&(d+=" - "),d+=e),c(function(){a.document.title=d})},getScrollbarWidth:function(){return f||0===f||(f=e()),f}}}])}(),function(){"use strict";angular.module("sky.wizard",["sky.resources","ui.bootstrap.tabs"]).directive("bbWizard",function(){return{link:function(a,b){b.addClass("bb-wizard")},require:"tabset",restrict:"A"}}).directive("bbWizardStepComplete",function(){return{link:function(a,b,c){a.$watch(c.bbWizardStepComplete,function(a){b[a?"addClass":"removeClass"]("bb-wizard-step-complete")})}}}).factory("bbWizardNavigator",["bbResources",function(a){function b(a){return angular.isFunction(a.disabled)&&a.disabled()}return{init:function(c){function d(){var a,c,d,e;for(a=0,c=h.length;c>a;a++)if(e=h[a],e.active&&a>0){if(d=h[a-1],!b(d))return d;break}return null}function e(){var a,c,d,e;for(a=0,c=h.length;c>a;a++)if(e=h[a],e.active&&c>a+1){if(d=h[a+1],!b(d))return d;break}return null}function f(a){a&&(a.active=!0)}function g(){return h[h.length-1].active}var h,i;return c=c||{},h=c.steps,i=c.finish,{previousText:function(){return a.wizard_navigator_previous},nextText:function(){return g()?a.wizard_navigator_finish:a.wizard_navigator_next},goToPrevious:function(){f(d())},goToNext:function(){g()?angular.isFunction(i)&&i():f(e())},previousDisabled:function(){return!d()},nextDisabled:function(){return!e()&&!g()}}}}}])}(),function(){"use strict";var a=["sky.actionbar","sky.autofocus","sky.autonumeric","sky.charts","sky.check","sky.checklist","sky.data","sky.datefield","sky.datepicker","sky.daterangepicker","sky.filters","sky.format","sky.grids","sky.help","sky.helpbutton","sky.helpwidget","sky.highlight","sky.mediabreakpoints","sky.modal","sky.moment","sky.money","sky.navbar","sky.omnibar","sky.page","sky.pagination","sky.popover","sky.resources","sky.scrollintoview","sky.searchfield","sky.tabs","sky.tabscroll","sky.tabsref","sky.templates","sky.templating","sky.textexpand","sky.tiles","sky.tooltip","sky.validation","sky.viewkeeper","sky.wait","sky.window","sky.wizard"];try{angular.module("toastr"),a.push("sky.toast")}catch(b){}try{angular.module("ngFileUpload"),a.push("sky.fileattachments")}catch(b){}angular.module("sky",a)}(),function(){"use strict";var a;a={action_bar_actions:"Actions",autonumeric_abbr_billions:"b",autonumeric_abbr_millions:"m",autonumeric_abbr_thousands:"k",checklist_select_all:"Select all",checklist_clear_all:"Clear all",checklist_no_items:"No items found",grid_back_to_top:"Back to top",grid_column_picker_all_categories:"All",grid_column_picker_description_header:"Description",grid_column_picker_header:"Choose columns to show in the list",grid_column_picker_name_header:"Column",grid_column_picker_search_placeholder:"Search by name",grid_column_picker_submit:"Apply changes",grid_columns_button:" Choose columns",grid_filters_apply:"Apply filters",grid_filters_button:"Filters",grid_filters_clear:"Clear",grid_filters_header:"Filter",grid_filters_hide:"Hide",grid_filters_summary_header:"Filter:",grid_load_more:"Load more",grid_search_placeholder:"Find in this list",grid_column_picker_search_no_columns:"No columns found",modal_footer_cancel_button:"Cancel",modal_footer_primary_button:"Save",month_short_april:"Apr",month_short_august:"Aug",month_short_december:"Dec",month_short_february:"Feb",month_short_january:"Jan",month_short_july:"Jul",month_short_june:"Jun",month_short_march:"Mar",month_short_may:"May",month_short_november:"Nov",month_short_october:"Oct",month_short_september:"Sep",page_noaccess_button:"Return to a non-classified page",page_noaccess_description:"Sorry, you don't have rights to this page.\nIf you feel you should, please contact your system administrator.",page_noaccess_header:"Move along, there's nothing to see here",text_expand_see_less:"See less",text_expand_see_more:"See more",grid_action_bar_clear_selection:"Clear selection",grid_action_bar_cancel_mobile_actions:"Cancel",grid_action_bar_choose_action:"Choose an action",date_field_invalid_date_message:"Please enter a valid date",date_range_picker_this_week:"This week",date_range_picker_last_week:"Last week",date_range_picker_next_week:"Next week",date_range_picker_this_month:"This month",date_range_picker_last_month:"Last month",date_range_picker_next_month:"Next month",date_range_picker_this_calendar_year:"This calendar year",date_range_picker_last_calendar_year:"Last calendar year",date_range_picker_next_calendar_year:"Next calendar year",date_range_picker_this_fiscal_year:"This fiscal year",date_range_picker_last_fiscal_year:"Last fiscal year",date_range_picker_next_fiscal_year:"Next fiscal year",date_range_picker_this_quarter:"This quarter",date_range_picker_last_quarter:"Last quarter",date_range_picker_next_quarter:"Next quarter",date_range_picker_at_any_time:"At any time",date_range_picker_today:"Today",date_range_picker_tomorrow:"Tomorrow",date_range_picker_yesterday:"Yesterday",date_range_picker_filter_description_this_week:"{0} for this week",date_range_picker_filter_description_last_week:"{0} from last week",date_range_picker_filter_description_next_week:"{0} for next week",date_range_picker_filter_description_this_month:"{0} for this month",date_range_picker_filter_description_last_month:"{0} from last month",date_range_picker_filter_description_next_month:"{0} for next month",date_range_picker_filter_description_this_calendar_year:"{0} for this calendar year",date_range_picker_filter_description_last_calendar_year:"{0} from last calendar year",date_range_picker_filter_description_next_calendar_year:"{0} for next calendar year",date_range_picker_filter_description_this_fiscal_year:"{0} for this fiscal year",date_range_picker_filter_description_last_fiscal_year:"{0} from last fiscal year",date_range_picker_filter_description_next_fiscal_year:"{0} for next fiscal year",date_range_picker_filter_description_this_quarter:"{0} for this quarter",date_range_picker_filter_description_last_quarter:"{0} from last quarter",date_range_picker_filter_description_next_quarter:"{0} for next quarter",date_range_picker_filter_description_at_any_time:"{0} at any time",date_range_picker_filter_description_today:"{0} for today",date_range_picker_filter_description_yesterday:"{0} from yesterday",date_range_picker_filter_description_tomorrow:"{0} for tomorrow",file_size_b_plural:"{0} bytes",file_size_b_singular:"{0} byte",file_size_kb:"{0} KB",file_size_mb:"{0} MB",file_size_gb:"{0} GB",file_upload_drag_file_here:"Drag a file here",file_upload_drop_files_here:"Drop files here",file_upload_invalid_file:"This file type is invalid",file_upload_link_placeholder:"http://www.something.com/file",file_upload_or_click_to_browse:"or click to browse",file_upload_paste_link:"Paste a link to a file",file_upload_paste_link_done:"Done",searchfield_searching:"Searching...",searchfield_no_records:"Sorry, no matching records found",wizard_navigator_finish:"Finish",wizard_navigator_next:"Next",wizard_navigator_previous:"Previous",datepicker_today:"Today",datepicker_clear:"Clear",datepicker_close:"Done"},angular.module("sky.resources").config(["bbResources",function(b){angular.extend(b,a)}])}(),angular.module("sky.templates",[]).run(["$templateCache",function(a){a.put("sky/templates/actionbar/actionbaritemgroup.html",'<div class="bb-action-bar-group">\n    <div class="bb-action-bar-buttons hidden-xs">\n        <ng-transclude />\n    </div>\n    <div class="hidden-sm hidden-md hidden-lg">\n        \n        <div class="dropdown">\n             <button class="btn btn-white dropdown-toggle" type="button" data-toggle="dropdown" href="javascript:void(0)">\n            {{title}}<span class="caret"/>\n            </button>\n            <ul class="dropdown-menu" role="menu">\n            </ul>\n        </div>\n    </div>\n</span>\n'),a.put("sky/templates/charts/scatterplot.html",'<div class="bb-chart-container">\n    <div ng-style="moveBackStyle()" ng-show="moveBackVisible">\n        <a ng-href="#" ng-click="moveBack()" ng-disabled="moveBackDisabled()">\n            <i class="glyphicon glyphicon-play icon-flipped"></i>\n        </a>\n    </div>\n    <div ng-style="moveForwardStyle()" ng-show="moveForwardVisible">\n        <a ng-href="#" ng-click="moveForward()" ng-disabled="moveForwardDisabled()">\n            <i class="glyphicon glyphicon-play"></i>\n        </a>\n    </div>\n    <div class="bb-chart"></div>\n</div>'),a.put("sky/templates/checklist/checklist.html",'<div>\n    <div>\n        <div ng-if="bbChecklistIncludeSearch" class="bb-checklist-filter-bar">\n            <div class="bb-checklist-search">\n                <input type="text" class="bb-checklist-search-box" maxlength="255" placeholder="{{bbChecklistSearchPlaceholder}}" ng-model="locals.searchText" ng-model-options="{debounce: bbChecklistSearchDebounce}" data-bbauto-field="ChecklistSearch">\n                <div class="bb-checklist-search-icon">\n                    <i class="fa fa-search"></i>\n                </div>\n            </div>\n        </div>\n        <div ng-if="bbChecklistCategories && bbChecklistCategories.length > 0" class="bb-checklist-filter-bar bb-checklist-category-bar">\n            <button type="button" class="btn btn-sm" ng-click="locals.filterByCategory()" ng-class="locals.selectedCategory ? \'btn-default\' : \'btn-primary\'">{{\'grid_column_picker_all_categories\' | bbResources}}</button>\n            <button ng-repeat="category in bbChecklistCategories" type="button" class="btn btn-sm" ng-click="locals.filterByCategory(category)" ng-class="locals.selectedCategory === category ? \'btn-primary\' : \'btn-default\'">{{category}}</button>\n        </div>\n        <div class="bb-checklist-filter-bar bb-checklist-select-all-bar">\n            <button type="button" class="btn btn-link" data-bbauto-field="ChecklistSelectAll" ng-click="locals.selectAll()">{{\'checklist_select_all\' | bbResources}}</button>\n            <button type="button" class="btn btn-link" data-bbauto-field="ChecklistClear" ng-click="locals.clear()">{{\'checklist_clear_all\' | bbResources}}</button>\n        </div>\n    </div>\n    <div class="bb-checklist-wrapper" ng-switch="bbChecklistMode">\n        <div ng-switch-when="list" bb-highlight="locals.searchText" bb-highlight-beacon="locals.highlightRefresh" data-bbauto-repeater="ChecklistItems" data-bbauto-repeater-count="{{locals.filteredItems.length}}">\n            <label class="bb-checklist-list-row" ng-repeat="item in locals.filteredItems">\n                <div class="bb-checklist-list-col bb-checklist-list-col-checkbox">\n                    <input \n                           bb-check\n                           type="checkbox"\n                           checklist-model="bbChecklistSelectedItems"\n                           checklist-value="item"\n                           data-bbauto-field="{{item.name}}"\n                           />\n                </div>\n                <div class="bb-checklist-list-col">\n                    <div class="bb-checklist-list-title">\n                        {{item.title}}\n                    </div>\n                    <div class="bb-checklist-list-description">\n                        {{item.description}}\n                    </div>\n                </div>\n            </label>\n        </div>\n        <table class="table bb-checklist-table" ng-switch-default>\n            <thead>\n                <tr>\n                    <th class="bb-checklist-checkbox-column"></th>\n                    <th ng-repeat="column in locals.columns" class="{{column.class}}" ng-style="{\'width\': column.width}">{{column.caption}}</th>\n                </tr>\n            </thead>\n            <tbody bb-highlight="locals.searchText" bb-highlight-beacon="locals.highlightRefresh" data-bbauto-repeater="ChecklistItems" data-bbauto-repeater-count="{{locals.filteredItems.length}}">\n                <tr ng-repeat="item in locals.filteredItems" ng-click="locals.rowClicked(item);" class="bb-checklist-row">\n                    <td>\n                        <input bb-check type="checkbox" checklist-model="bbChecklistSelectedItems" checklist-value="item" ng-click="$event.stopPropagation();" data-bbauto-field="{{item[bbChecklistAutomationField]}}" />\n                    </td>\n                    <td ng-repeat="column in locals.columns" class="{{column.class}}" data-bbauto-field="{{column.automationId}}" data-bbauto-index="{{$parent.$index}}">{{item[column.field]}}</td>\n                </tr>\n            </tbody>\n        </table>\n        <div class="bb-checklist-no-items" ng-if="!locals.filteredItems.length">{{bbChecklistNoItemsMessage || (\'checklist_no_items\' | bbResources)}}</div>\n    </div>\n    <div ng-transclude></div>\n</div>'),a.put("sky/templates/datefield/datefield.html",'<span class="add-on input-group-btn">\n    <button type="button" class="btn btn-default bb-date-field-calendar-button">\n        <i class="fa fa-calendar"></i>\n    </button>\n</span>'),a.put("sky/templates/datepicker/datepicker.html",'<div>\n    <div ng-if="locals.loaded" class="input-group bb-datefield">\n        <input name="{{locals.inputName}}" type="text" class="form-control" ng-model="locals.date" is-open="locals.opened" datepicker-options="locals.dateOptions" datepicker-popup="{{format}}" show-button-bar="locals.showButtonBar" current-text="{{resources.datepicker_today}}" clear-text="{{resources.datepicker_clear}}" close-text="{{resources.datepicker_close}}" datepicker-append-to-body="{{locals.appendToBody}}" close-on-date-selection="{{locals.closeOnSelection}}" bb-datepicker-custom-validate="{{locals.hasCustomValidation}}" placeholder="{{placeholderText}}" ng-required="locals.required"/>\n        <span class="bb-datepicker-button-container add-on input-group-btn" ng-class="{\'bb-datefield-open\': locals.opened}">\n            <button type="button" class="btn btn-default bb-date-field-calendar-button" ng-click="locals.open($event)">\n                <i class="fa fa-calendar"></i>\n            </button>\n        </span>\n    </div>\n</div>'),a.put("sky/templates/daterangepicker/daterangepicker.html",'<div>\n    <select data-bbauto-field="{{bbDateRangePickerAutomationId}}_DateRangeType"\n            class="form-control"\n            ng-options="locals.bbDateRangePicker.getDateRangeTypeCaption(t) for t in (bbDateRangePickerOptions.availableDateRangeTypes || locals.bbDateRangePicker.defaultDateRangeOptions)"\n            ng-model="bbDateRangePickerValue.dateRangeType" />\n</div>'),a.put("sky/templates/fileattachments/filedrop.html",'<div class="row bb-file-drop-row">\n    <div class="col-xs-12 bb-file-drop-col" ng-class="{\'col-sm-6\': bbFileDrop.allowLinks}">\n        <div \n             class="bb-file-drop"\n             ngf-drop \n             ngf-keep="false"\n             ngf-drag-over-class="{accept: \'bb-file-drop-accept\', reject: \'bb-file-drop-reject\'}"\n             ngf-change="bbFileDrop.fileChange($files, $event, $rejectedFiles)"\n             >\n            <div class="bb-file-drop-contents" ng-if="!bbFileDrop.hasTranscludeContents">\n                <div class="bb-file-drop-contents-not-over">\n                    <h4>{{\'file_upload_drag_file_here\' | bbResources}}</h4>\n                    <h5>{{\'file_upload_or_click_to_browse\' | bbResources}}</h5>\n                    <i class="fa fa-cloud-upload bb-file-upload-icon"></i>\n                </div>\n                <div class="bb-file-drop-contents-accept">\n                    <h4>{{\'file_upload_drop_files_here\' | bbResources}}</h4>\n                    <i class="fa fa-bullseye bb-file-upload-icon"></i>\n                </div>\n                <div class="bb-file-drop-contents-reject">\n                    <h4>{{\'file_upload_invalid_file\' | bbResources}}</h4>\n                    <i class="fa fa-times-circle bb-file-upload-icon"></i>\n                </div>\n            </div>\n            <div class="bb-file-drop-contents-custom" ng-transclude></div>\n        </div>\n    </div>\n    <div class="col-sm-6 col-xs-12 bb-file-drop-col" ng-if="bbFileDrop.allowLinks">\n        <div class="bb-file-drop-contents">\n            <div class="bb-file-drop-link">\n                <h4 class="bb-file-drop-link-header">{{\'file_upload_paste_link\' | bbResources}}</h4>\n                <form ng-submit="bbFileDrop.addLink()">\n                    <div class="form-group">\n                        <input \n                               type="text" \n                               class="form-control" \n                               placeholder="{{\'file_upload_link_placeholder\' | bbResources}}"\n                               ng-model="bbFileDrop.url"  \n                               />\n                    </div>\n                    <button type="submit" class="btn btn-primary" ng-disabled="!bbFileDrop.url">\n                        {{\'file_upload_paste_link_done\' | bbResources}}\n                    </button>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>'),a.put("sky/templates/fileattachments/fileitem.html",'<div class="bb-file-item">\n    <div class="row bb-file-item-title">\n        <div class="col-xs-10">\n            <div class="bb-file-item-name">\n                <strong>{{item.name || item.url}}</strong>\n            </div>\n            <div class="bb-file-item-size" ng-if="bbFileItem.isFile()">\n                ({{item.size | bbFileSize}})\n            </div>\n        </div>\n        <div class="col-xs-2">\n            <div class="pull-right">\n                <button type="button" class="btn btn-white bb-file-item-btn-delete" ng-click="itemDelete()">\n                    <i class="glyphicon glyphicon-trash"></i>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-xs-3" ng-switch="bbFileItem.isImg()">\n            <img class="bb-file-item-preview-img center-block" ngf-src="item" ng-switch-when="true" />\n            <div class="bb-file-item-preview-other" ng-switch-when="false">\n                <i class="fa" ng-class="bbFileItem.otherCls"></i>\n            </div>\n        </div>\n        <div class="col-xs-9" ng-transclude>\n        </div>\n    </div>\n</div>'),a.put("sky/templates/grids/actionbar.html",'<div ng-show="locals.showActionBar" data-bbauto-view="GridActionBar">\n    <div ng-if="!locals.showMobileActions" class="bb-grid-action-bar">\n        <div ng-if="!locals.mobileButtons" class="bb-grid-action-bar-buttons" ng-repeat="action in locals.actions">\n            <button class="btn" ng-class="{\'btn-primary\': action.isPrimary, \'btn-white\': !action.isPrimary}" data-bbauto-field="{{action.automationId}}" ng-click="action.actionCallback()" ng-disabled="action.selections.length < 1">{{action.title}} ({{action.selections.length}})</button>\n        </div>\n        <div ng-if="locals.mobileButtons" class="bb-grid-action-bar-buttons">\n            <button class="btn btn-primary" ng-click="locals.chooseAction()">\n                <span class="sky-icon sky-icon-multi-action"></span>\n                <span>{{resources.grid_action_bar_choose_action}}</span>\n            </button>\n        </div>\n        <button class="btn bb-grid-action-bar-clear-selection" ng-click="locals.clearSelection()">\n            {{resources.grid_action_bar_clear_selection}}\n        </button>\n    </div>\n    <div ng-if="locals.showMobileActions" class="bb-grid-action-bar-mobile-buttons">\n        <div class="bb-grid-action-bar-btn-container">\n            <div ng-repeat="action in locals.actions">\n                <button class="bb-grid-action-bar-mobile-btn btn btn-block btn-lg" ng-class="{\'btn-primary\': action.isPrimary, \'btn-white\': !action.isPrimary}" ng-click="action.actionCallback()" ng-disabled="action.selections.length < 1">{{action.title}} ({{action.selections.length}})</button>\n            </div>\n        </div>\n        <button class="btn bb-grid-action-bar-mobile-cancel bb-grid-action-bar-clear-selection" ng-click="locals.cancelChooseAction()">\n            {{resources.grid_action_bar_cancel_mobile_actions}}\n        </button>\n    </div>\n</div>'),a.put("sky/templates/grids/columnpicker.html",'<bb-modal data-bbauto-view="ColumnPicker">\n  <bb-modal-header bb-modal-help-key="$parent.columnPickerHelpKey">{{\'grid_column_picker_header\' | bbResources}}</bb-modal-header>\n  <div bb-modal-body>\n    <bb-checklist\n                  bb-checklist-items="columns" \n                  bb-checklist-selected-items="locals.selectedColumns" \n                  bb-checklist-include-search="\'true\'" \n                  bb-checklist-search-placeholder="{{\'grid_column_picker_search_placeholder\' | bbResources}}" \n                  bb-checklist-no-items-message="{{\'grid_column_picker_search_no_columns\' | bbResources}}"\n                  bb-checklist-categories="categories" \n                  bb-checklist-mode="list" \n                  bb-checklist-filter-local\n                  >\n    </bb-checklist>\n  </div>\n  <bb-modal-footer>\n    <bb-modal-footer-button-primary data-bbauto-field="ColumnPickerSubmit" ng-click="applyChanges()">{{\'grid_column_picker_submit\' | bbResources}}</bb-modal-footer-button-primary>\n    <bb-modal-footer-button-cancel data-bbauto-field="ColumnPickerCancel"></bb-modal-footer-button-cancel>\n  </bb-modal-footer>\n</bb-modal>'),a.put("sky/templates/grids/filters.html",'<div style="display:none;">\n    <div bb-scrolling-view-keeper="viewKeeperOptions" class="bb-grid-filters grid-filters">\n        <div class="bb-grid-filters-box" bb-scroll-into-view="expanded">\n            <div class="bb-grid-filters-icon" ng-click="expanded = !expanded"></div>\n            <div class="bb-grid-filters-container" style="display:none;">\n                <div class="bb-grid-filters-header" ng-click="expanded = !expanded">\n                    <h4 class="bb-grid-filters-header-title">{{resources.grid_filters_header}}</h4>\n                    <span class="bb-grid-filters-header-hide">{{resources.grid_filters_hide}}</span>\n                </div>\n                <div class="bb-grid-filters-body" ng-transclude></div>\n                <div class="bb-grid-filters-footer">\n                    <button data-bbauto-field="ApplyGridFilters" class="btn btn-primary" type="submit" ng-click="applyFilters()">{{resources.grid_filters_apply}}</button>\n                    <button data-bbauto-field="ClearGridFilters" class="btn btn-white" type="button" ng-click="clearFilters()">{{resources.grid_filters_clear}}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),a.put("sky/templates/grids/filtersgroup.html",'<div class="form-group" ng-class="isCollapsed ? \'collapsed\' : \'collapsible\'">\n    <div ng-click="isCollapsed = !isCollapsed">\n        <i ng-class="\'glyphicon-chevron-\' + (isCollapsed ? \'down\' : \'up\')" class="bb-grid-filters-body-group-header-icon glyphicon"></i>\n        <label>{{bbGridFiltersGroupLabel}}</label>\n    </div>\n    <div class="bb-grid-filters-body-group-content" collapse="!!isCollapsed" ng-transclude></div>\n</div>'),a.put("sky/templates/grids/filterssummary.html",'<div class="toolbar bb-table-toolbar bb-applied-filter-bar">\n    <div class="bb-applied-filter-header">\n        <span>{{resources.grid_filters_summary_header}}</span>\n    </div>\n    <div class="bb-applied-filter-content" ng-click="openFilterMenu()">\n        <span class="bb-applied-filter-text" data-bbauto-field="FilterSummaryText" ng-transclude></span>\n        <span class="sky-icon-close bb-applied-filter-remove" data-bbauto-field="FilterSummaryRemove" ng-click="clearFilters(); $event.stopPropagation();"></span>\n    </div>\n</div>\n'),a.put("sky/templates/grids/grid.html",'<section class="bb-grid-container" data-bbauto-grid="{{options.automationId}}" data-bbauto-timestamp="{{locals.timestamp}}" data-bbauto-repeater="{{options.automationId}}" data-bbauto-repeater-count="{{locals.rowcount}}">\n    <div ng-transclude></div>\n    <div class="bb-grid-toolbar-container" style="display:none;">\n        <div class="toolbar bb-table-toolbar">\n            <div data-bbauto-field="AddButton" class="bb-grid-toolbar-btn-add btn-success btn btn-sm" ng-show="locals.hasAdd" ng-click="locals.onAddClick()">\n                <span class="bb-toolbar-btn-icon sky-icon sky-icon-add-fill"></span>\n                <span class="bb-toolbar-btn-label" ng-show="options.onAddClickLabel">{{options.onAddClickLabel}}</span>\n            </div>\n            <div class="bb-search-container search-container">\n                <input type="text" placeholder="{{resources.grid_search_placeholder}}" ng-model="searchText" ng-keyup="$event.keyCode == 13 && locals.applySearchText();" data-bbauto-field="SearchBox" />\n                <div class="bb-search-icon fa fa-search" data-bbauto-field="SearchButton" ng-click="locals.applySearchText();"></div>\n            </div>\n            <div class="bb-toolbar-btn bb-column-picker-btn" data-bbauto-field="ColumnPickerButton" ng-show="locals.hasColPicker" ng-click="locals.openColumnPicker()">\n                <span class="fa fa-columns"></span>\n                <span class="bb-toolbar-btn-label">{{resources.grid_columns_button}}</span>\n            </div>\n            <div class="bb-toolbar-btn bb-filter-btn" data-bbauto-field="FilterButton" ng-show="locals.hasFilters" ng-click="locals.toggleFilterMenu();">\n                <span class="fa fa-filter"></span>\n                <span class="bb-toolbar-btn-label">{{resources.grid_filters_button}}</span>\n            </div>\n        </div>\n        <div class="bb-grid-filter-summary-container">\n        </div>\n        <div class="bb-grid-top-scrollbar">\n            <div></div>\n        </div>    \n    </div>\n    \n    <div class="clearfix"></div>\n    \n    <div class="table-responsive">\n        \n        <table id="{{locals.gridId}}" class="bb-grid-table" bb-wait="options.loading" ng-class="{\'grid-multiselect\' : locals.multiselect}"></table>\n    </div>\n    \n    <div ng-if="!paginationOptions" class="bb-table-loadmore" data-bbauto-field="LoadMoreButton" ng-show="options.hasMoreRows" ng-click="locals.loadMore();">\n        <span class="fa fa-cloud-download"></span>\n        <a href="#">{{resources.grid_load_more}}</a>\n    </div>\n    \n    <div ng-if="paginationOptions" class="bb-grid-pagination-container">\n        <pagination ng-show="paginationOptions.recordCount > options.data.length" total-items="paginationOptions.recordCount" items-per-page="paginationOptions.itemsPerPage" ng-model="locals.currentPage" ng-change="paginationOptions.pageChanged()" max-size="paginationOptions.maxPages"></pagination>\n        <div class="clearfix"></div>\n    </div>\n    \n    <div class="bb-grid-action-bar-and-back-to-top">\n        <bb-grid-action-bar ng-if="locals.multiselect && multiselectActions && updateMultiselectActions" bb-multiselect-actions="multiselectActions" bb-selections-updated="updateMultiselectActions(selections)">\n        </bb-grid-action-bar>\n        <div class="bb-table-backtotop" data-bbauto-field="BackToTopButton" ng-show="locals.isScrolled" ng-click="locals.backToTop();">\n            <span style="float:left">\n                <span class="fa fa-arrow-up "></span>\n                <a href="#">{{resources.grid_back_to_top}}</a>\n            </span>\n            <span style="float:right">\n                <span class="fa fa-arrow-up "></span>\n                <a href="#">{{resources.grid_back_to_top}}</a>\n            </span>\n            <div class="clearfix"></div>\n        </div>\n    </div>\n</section>'),a.put("sky/templates/grids/seemore.html",'<div bb-text-expand="data" bb-text-expand-max-length="100" style="white-space: pre-wrap"></div>'),a.put("sky/templates/modal/modal.html",'<div class="bb-modal-content-wrapper" ng-transclude></div>'),a.put("sky/templates/modal/modalfooter.html",'<div class="modal-footer" ng-transclude></div>\n'),a.put("sky/templates/modal/modalfooterbutton.html",'<button class="btn btn-white" type="button" ng-transclude></button>'),a.put("sky/templates/modal/modalfooterbuttoncancel.html",'<button class="btn btn-link" type="button" ng-click="$parent.$parent.$dismiss(\'cancel\');" ng-transclude></button>'),a.put("sky/templates/modal/modalfooterbuttonprimary.html",'<button class="btn btn-primary" type="submit" ng-transclude></button>'),a.put("sky/templates/modal/modalheader.html",'<div class="modal-header">\n    <h4 class="bb-dialog-header" ng-transclude></h4>\n    <div class="fa fa-times close" ng-click="$parent.$parent.$dismiss(\'cancel\');"></div>\n    <div bb-help-button bb-help-key="{{bbModalHelpKey}}" bb-set-help-key-override="true" data-bbauto-field="ModalHelpButton"></div>\n    <div class="clearfix"></div>\n</div>'),a.put("sky/templates/navbar/navbar.html",'<nav class="navbar navbar-default bb-navbar" ng-transclude></nav>'),a.put("sky/templates/page/page.html",'<section ng-if="locals.noPageStatusSpecified() || bbPageStatus === locals.pageStatuses.LOADED">\n    <div ng-transclude ng-init="locals.onShowing()"></div>\n</section>\n<section class="container-fluid bb-page-content-column-container" ng-show="bbPageStatus === locals.pageStatuses.NOT_AUTHORIZED">\n    <div class="row">\n        <section class="bb-page-content-column col-xs-12 m-t-xl text-center">\n            <div class="m">\n                <h3>\n                    {{resources.page_noaccess_header}}\n                </h3>\n            </div>\n            <div class="bb-page-noaccess-description">{{resources.page_noaccess_description}}</div>\n            <div class="m-lg">\n                <button type="button" class="btn btn-lg btn-primary" ng-click="locals.navigateAway()" data-bbauto-field="NavigateAwayButton">\n                    {{resources.page_noaccess_button}}\n                </button>\n            </div>\n        </section>\n    </div>\n</section>'),a.put("sky/templates/popover/popup.html",'<div class="popover {{placement}} fade" ng-class="{ in: isOpen()}">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n    <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n    <div class="popover-content"></div>\n  </div>\n</div>'),a.put("sky/templates/tabs/tab.html",'<div ng-hide="!tabsInitialized" data-bbauto-field="{{bbTabAutomationId}}" class="responsiveTabControl">\n    <ul ng-transclude>\n\n    </ul>\n</div>'),a.put("sky/templates/tiles/tile.html",'<section ng-class="isCollapsed ? \'collapsed\' : \'collapsible\'" class="ibox bb-tile">\n    <div bb-scroll-into-view="scrollIntoView">\n        <div class="ibox-title" ng-click="titleClick()">\n            <div class="row">\n                <div class="bb-tile-header-with-content col-xs-8">\n                    <h5 class="bb-tile-header">{{tileHeader}}</h5>\n                </div>\n                <div class="col-xs-4 bb-tile-header-column-tools">\n                    <div class="ibox-tools">\n                        <i ng-class="\'fa-chevron-\' + (isCollapsed ? \'down\' : \'up\')" class="fa bb-tile-chevron"></i>\n                        <i ng-if="hasSettings" class="bb-tile-settings fa fa-wrench" ng-click="$event.stopPropagation();bbTileSettingsClick();"></i>\n                        <i class="bb-tile-grab-handle glyphicon glyphicon-th" ng-click="$event.stopPropagation()"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div collapse="isCollapsed" class="ibox-content bb-tile-content" ng-transclude>\n        </div>\n    </div>\n</section>'),a.put("sky/templates/tiles/tiledashboard.html",'<div class="row">\n  <div class="col-md-6 bb-page-content-tile-column bb-page-content-tile-column-sortable" data-dashboard-column="1">\n    <div ng-repeat="tile in tiles" data-tile-id="{{tile.id}}" data-ui-view="{{tile.view_name}}" id="{{tile.view_name}}">\n    </div>\n  </div>\n\n  <div class="col-md-6 bb-page-content-tile-column bb-page-content-tile-column-sortable" data-dashboard-column="2">\n  </div>\n</div>'),
a.put("sky/templates/tiles/tileheadercheck.html",'<i class="fa fa-check bb-tile-header-check"></i>'),a.put("sky/templates/tiles/tileheadercontent.html",'<div class="bb-tile-header-content" ng-transclude></div>')}]);
//# sourceMappingURL=sky.min.js.map